<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>DongSheng&#39;s Blog</title>
  <icon>https://www.gravatar.com/avatar/2e394ffb56f8f004acd7419b61a7c933</icon>
  <subtitle>记录点滴，不断突破</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://mds1455975151.github.io/"/>
  <updated>2018-03-12T14:12:42.585Z</updated>
  <id>https://mds1455975151.github.io/</id>
  
  <author>
    <name>DongSheng</name>
    <email>madscdpc@gmail.com</email>
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Linux之ProxyChains终端代理软件</title>
    <link href="https://mds1455975151.github.io/archives/99c00eae.html"/>
    <id>https://mds1455975151.github.io/archives/99c00eae.html</id>
    <published>2018-03-12T12:52:26.000Z</published>
    <updated>2018-03-12T14:12:42.585Z</updated>
    
    <content type="html"><![CDATA[<script src="\assets\js\APlayer.min.js"> </script><blockquote><p>ProxyChains终端代理软件</p></blockquote><a id="more"></a><h1 id="ProxyChains介绍"><a href="#ProxyChains介绍" class="headerlink" title="ProxyChains介绍"></a>ProxyChains介绍</h1><p><a href="http://proxychains.sourceforge.net/" target="_blank" rel="noopener">官网地址</a><br><a href="https://github.com/haad/proxychains" target="_blank" rel="noopener">Github地址</a><br>About proxychains tool:</p><pre><code>* It&apos;s a proxifier.* Latest version: 3.1* Dedicated OS: Linux and other Unices.* Allows TCP and DNS tunneling through proxies.* Supports HTTP, SOCKS4 and SOCKS5 proxy servers.* Different proxy types can be mixed in the same chain.* Proxy chain: user-defined list of proxies chained together.</code></pre><p>Usability :</p><pre><code>* Run any program through proxy server.* Access the Internet from behind a restrictive firewall.* Hide your IP* Run SSH, telnet, wget, ftp, apt, vnc, nmap through proxy servers.* Access Intranets (192.168.*.*/10.*.*.*) from outside through reverse proxy</code></pre><h1 id="ProxyChains部署实践"><a href="#ProxyChains部署实践" class="headerlink" title="ProxyChains部署实践"></a>ProxyChains部署实践</h1><h2 id="环境说明"><a href="#环境说明" class="headerlink" title="环境说明"></a>环境说明</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># cat /etc/redhat-release</span></span><br><span class="line">CentOS Linux release 7.4.1708 (Core)</span><br><span class="line"><span class="comment"># uname -r</span></span><br><span class="line">3.10.0-693.el7.x86_64</span><br></pre></td></tr></table></figure><h2 id="部署实践"><a href="#部署实践" class="headerlink" title="部署实践"></a>部署实践</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># wget https://github.com/haad/proxychains/archive/proxychains-4.2.0.tar.gz</span></span><br><span class="line"><span class="comment"># tar -zxf proxychains-4.2.0.tar.gz</span></span><br><span class="line"><span class="comment"># cd proxychains-proxychains-4.2.0/</span></span><br><span class="line"><span class="comment"># cat README                        # 安装及配置说明</span></span><br><span class="line"><span class="comment"># ./configure</span></span><br><span class="line"><span class="comment"># make &amp;&amp; make install</span></span><br></pre></td></tr></table></figure><h2 id="使用方法说明"><a href="#使用方法说明" class="headerlink" title="使用方法说明"></a>使用方法说明</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">When to use it ?</span><br><span class="line">1) When the only way to get <span class="string">"outside"</span> from your LAN is through proxy server.</span><br><span class="line">2) To get out from behind restrictive firewall <span class="built_in">which</span> filters outgoing ports.</span><br><span class="line">3) To use two (or more) proxies <span class="keyword">in</span> chain:</span><br><span class="line">        like: your_host &lt;--&gt; proxy1 &lt;--&gt; proxy2 &lt;--&gt; target_host</span><br><span class="line">4) To <span class="string">"proxify"</span> some program with no proxy support built-in (like telnet)</span><br><span class="line">5) Access intranet from outside via proxy.</span><br><span class="line">5) To use DNS behind proxy.</span><br><span class="line"></span><br><span class="line">Some cool features:</span><br><span class="line"></span><br><span class="line">* This program can mix different proxy types <span class="keyword">in</span> the same chain</span><br><span class="line">        like: your_host &lt;--&gt;socks5 &lt;--&gt; http &lt;--&gt; socks4 &lt;--&gt; target_host</span><br><span class="line">* Different chaining options supported</span><br><span class="line">        random order from the list ( user defined length of chain ).</span><br><span class="line">        exact order  (as they appear <span class="keyword">in</span> the list )</span><br><span class="line">        dynamic order (smart exclude dead proxies from chain)</span><br><span class="line">* You can use it with any TCP client application, even network scanners</span><br><span class="line">        yes, yes - you can make portscan via proxy (or chained proxies)</span><br><span class="line">        <span class="keyword">for</span> example with Nmap scanner by fyodor (www.insecire.org/nmap).</span><br><span class="line">        proxychains nmap -sT -PO -p 80 -iR  (find some webservers through proxy)</span><br><span class="line">* You can use it with servers, like squid, sendmail, or whatever.</span><br><span class="line">* DNS resolving through proxy.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Configuration:</span><br><span class="line">--------------</span><br><span class="line"></span><br><span class="line">proxychains looks <span class="keyword">for</span> config file <span class="keyword">in</span> following order:</span><br><span class="line">1)      file listed <span class="keyword">in</span> environment variable <span class="variable">$&#123;PROXYCHAINS_CONF_FILE&#125;</span> or</span><br><span class="line">        provided as a -f argument to proxychains script or binary.</span><br><span class="line">2)      ./proxychains.conf</span><br><span class="line">3)      $(HOME)/.proxychains/proxychains.conf</span><br><span class="line">4)      /etc/proxychains.conf  **</span><br><span class="line"></span><br><span class="line">**see more <span class="keyword">in</span> /etc/proxychains.conf</span><br><span class="line"></span><br><span class="line">Usage Example:</span><br><span class="line"></span><br><span class="line">        $ proxychains telnet targethost.com</span><br><span class="line"></span><br><span class="line"><span class="keyword">in</span> this example it will run telnet through proxy(or chained proxies)</span><br><span class="line">specified by proxychains.conf</span><br><span class="line"></span><br><span class="line">Usage Example:</span><br><span class="line"></span><br><span class="line">        $ proxychains -f /etc/proxychains-other.conf targethost2.com</span><br><span class="line"></span><br><span class="line"><span class="keyword">in</span> this example it will use different configuration file <span class="keyword">then</span> proxychains.conf</span><br><span class="line">to connect to targethost2.com host.</span><br><span class="line"></span><br><span class="line">Usage Example:</span><br><span class="line"></span><br><span class="line">        $ proxyresolv targethost.com</span><br><span class="line"></span><br><span class="line"><span class="keyword">in</span> this example it will resolve targethost.com through proxy(or chained proxies)</span><br><span class="line">specified by proxychains.conf</span><br></pre></td></tr></table></figure><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>1、需要找到稳定快速的代理IP<br>2、proxychains只会代理TCP连接，而ping使用的是ICMP</p><h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><p><a href="https://github.com/haad/proxychains" target="_blank" rel="noopener">https://github.com/haad/proxychains</a></p><p>======================================================<br>希望各位朋友支持一下</p><ul><li>领取我的<a href="https://promotion.aliyun.com/ntms/act/ambassador/sharetouser.html?userCode=xpdsz87p&amp;utm_source=xpdsz87p" target="_blank" rel="noopener">阿里云幸运券</a>,谢谢.</li><li>使用<a href="https://cloud.tencent.com/redirect.php?redirect=1005&amp;cps_key=5a162632de40024cd01aabff4d3f1370" target="_blank" rel="noopener">腾讯云资源</a></li><li>自己的网站承接广告<a href="http://www.sudianlm.com/track/c/?rid=2056" target="_blank" rel="noopener">速点广告联盟</a></li><li>广告位招商QQ:1455975151</li><li>喜欢购物的朋友可以看看，<a href="http://www.1zhe.com/yq/1066027" target="_blank" rel="noopener">一折特卖</a><!--注册一折特卖，免费领集分宝，集分宝可以当钱花，免费购物不是梦，注册马上送你10集分宝。--></li></ul><p><strong>本文作者</strong>：dongsheng<br><strong>本文地址</strong>： <a href="https://mds1455975151.github.io/archives/99c00eae.html">https://mds1455975151.github.io/archives/99c00eae.html</a> <br><strong>版权声明</strong>：转载请注明出处！</p>]]></content>
    
    <summary type="html">
    
      ProxyChains终端代理软件
    
    </summary>
    
      <category term="Linux运维" scheme="https://mds1455975151.github.io/categories/Linux%E8%BF%90%E7%BB%B4/"/>
    
    
      <category term="ProxyChains" scheme="https://mds1455975151.github.io/tags/ProxyChains/"/>
    
      <category term="终端代理" scheme="https://mds1455975151.github.io/tags/%E7%BB%88%E7%AB%AF%E4%BB%A3%E7%90%86/"/>
    
  </entry>
  
  <entry>
    <title>Web应用问题排查tips</title>
    <link href="https://mds1455975151.github.io/archives/a946f55.html"/>
    <id>https://mds1455975151.github.io/archives/a946f55.html</id>
    <published>2018-03-09T01:07:57.000Z</published>
    <updated>2018-03-09T01:14:10.141Z</updated>
    
    <content type="html"><![CDATA[<script src="\assets\js\APlayer.min.js"> </script><blockquote><p>Web应用问题排查tips</p></blockquote><a id="more"></a><h1 id="快速查看服务器的应用及目录"><a href="#快速查看服务器的应用及目录" class="headerlink" title="快速查看服务器的应用及目录"></a>快速查看服务器的应用及目录</h1><p>新登录到一个服务器，或者服务器上有很多应用时，怎么样找到每个应用的监听端口，及应用目录是很重要的</p><ul><li>首先要判断是否docker服务，docker ps可以方便的查看是否是docker服务，是的话也可以列出当前在跑的容器服务</li><li>如果非docker容器的话，(如果是tcp web服务)可以通过netstat -lntp, 或者losf -iTCP -sTCP:listen查看当前在监听请求的服务</li><li>netstat 会显示监听服务的pid，运行进程一般在内存中分配资源，所以可以在/proc/${pid}/目录中查看进程命令，cwd(current work directory)等信息<h1 id="日志总是最好的突破口"><a href="#日志总是最好的突破口" class="headerlink" title="日志总是最好的突破口"></a>日志总是最好的突破口</h1></li><li>如果有ELK等日志分析系统，通过filed查询可以方便的过滤出错误码及对应请求分布</li><li>否则，可以通过grep, awk等命令统计出自己想要的内容，比如<br>过滤某个错误码<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep -E <span class="string">"\s500\s"</span> access_log</span><br></pre></td></tr></table></figure></li></ul><p>统计最近一段时间请求数量（nginx为例）<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$awk</span> <span class="string">'&#123;print $7&#125;'</span> access_log|sort|uniq -c</span><br></pre></td></tr></table></figure></p><h1 id="配置文件总有你需要的信息"><a href="#配置文件总有你需要的信息" class="headerlink" title="配置文件总有你需要的信息"></a>配置文件总有你需要的信息</h1><p>找到了应用的目录，也在日志中发现了端倪，但是某个错误提示让你无法继续下去，比如某某参数有问题，或者某某服务 (eg:DB) 连接失败，这种情况去配置文件中看一下吧。依赖服务信息(url/port/service_name) ，配置参数(log_info，listen_port等)一般会在配置文件中统一配置的</p><h1 id="链式跟踪，顺藤摸瓜"><a href="#链式跟踪，顺藤摸瓜" class="headerlink" title="链式跟踪，顺藤摸瓜"></a>链式跟踪，顺藤摸瓜</h1><p>很多服务一般都会有trace_id 方便跟踪请求，对某个请求调用链不熟悉的人来说，接入层日志（以nginx为例）是一个很好的切入点</p><ul><li>从接入层可以过滤出问题请求，找到对应的upstream</li><li>upstream一般为LVS/nginx, 这样可以定位到服务模块</li><li>nginx日志中一般会有trace id用来标识一个请求，这样可以去应用日志查询到具体的问题</li></ul><h1 id="反向跟踪，必要时的抓包跟踪"><a href="#反向跟踪，必要时的抓包跟踪" class="headerlink" title="反向跟踪，必要时的抓包跟踪"></a>反向跟踪，必要时的抓包跟踪</h1><p>有时应用日志的报警定位需要找到某个请求具体的来源,一般日志都会打印请求的地址,如果日志中没有打印的话，最好的方式就是抓包分析了.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ tcpdump -nn -X dst host <span class="variable">$&#123;dst_ip&#125;</span> and dst port <span class="variable">$&#123;port&#125;</span> -w request.cap</span><br></pre></td></tr></table></figure></p><p>如果请求量不是很大的话，可以找到请求的src.根据获取的src ip，即可反向跟踪问题</p><h1 id="pp抓包利器-Charles"><a href="#pp抓包利器-Charles" class="headerlink" title="pp抓包利器 Charles"></a>pp抓包利器 Charles</h1><p>现在移动应用流行，好多web服务都会有mobile app，问题排查时，对app的请求与服务端响应分析可以通过Charles代理来实现</p><h1 id="请求模拟-postman"><a href="#请求模拟-postman" class="headerlink" title="请求模拟-postman"></a>请求模拟-postman</h1><p>postman是一个很好的请求模拟器，支持cookie等需要登录操作的请求，是curl的一个升级版 ，交互方式十分友好，在问题复现及修复确认时，可以通过postman来模拟具体的请求</p><h1 id="参考地址"><a href="#参考地址" class="headerlink" title="参考地址"></a>参考地址</h1><p><a href="http://schin.space/notes/NOTES-%E9%97%AE%E9%A2%98%E6%8E%92%E6%9F%A5tips/" target="_blank" rel="noopener">原文链接</a></p><p>======================================================<br>希望各位朋友支持一下</p><ul><li>领取我的<a href="https://promotion.aliyun.com/ntms/act/ambassador/sharetouser.html?userCode=xpdsz87p&amp;utm_source=xpdsz87p" target="_blank" rel="noopener">阿里云幸运券</a>,谢谢.</li><li>使用<a href="https://cloud.tencent.com/redirect.php?redirect=1005&amp;cps_key=5a162632de40024cd01aabff4d3f1370" target="_blank" rel="noopener">腾讯云资源</a></li><li>自己的网站承接广告<a href="http://www.sudianlm.com/track/c/?rid=2056" target="_blank" rel="noopener">速点广告联盟</a></li><li>广告位招商QQ:1455975151</li><li>喜欢购物的朋友可以看看，<a href="http://www.1zhe.com/yq/1066027" target="_blank" rel="noopener">一折特卖</a><!--注册一折特卖，免费领集分宝，集分宝可以当钱花，免费购物不是梦，注册马上送你10集分宝。--></li></ul><p><strong>本文作者</strong>：dongsheng<br><strong>本文地址</strong>： <a href="https://mds1455975151.github.io/archives/a946f55.html">https://mds1455975151.github.io/archives/a946f55.html</a> <br><strong>版权声明</strong>：转载请注明出处！</p>]]></content>
    
    <summary type="html">
    
      Web应用问题排查tips
    
    </summary>
    
      <category term="Linux运维" scheme="https://mds1455975151.github.io/categories/Linux%E8%BF%90%E7%BB%B4/"/>
    
    
      <category term="Web" scheme="https://mds1455975151.github.io/tags/Web/"/>
    
      <category term="问题排查" scheme="https://mds1455975151.github.io/tags/%E9%97%AE%E9%A2%98%E6%8E%92%E6%9F%A5/"/>
    
  </entry>
  
  <entry>
    <title>使用LetsEncrypt配置网站https</title>
    <link href="https://mds1455975151.github.io/archives/78579e83.html"/>
    <id>https://mds1455975151.github.io/archives/78579e83.html</id>
    <published>2018-03-08T06:20:13.000Z</published>
    <updated>2018-03-08T06:54:13.970Z</updated>
    
    <content type="html"><![CDATA[<script src="\assets\js\APlayer.min.js"> </script><blockquote><p>使用LetsEncrypt配置网站https</p></blockquote><a id="more"></a><h1 id="Let’s-Encrypt介绍"><a href="#Let’s-Encrypt介绍" class="headerlink" title="Let’s Encrypt介绍"></a>Let’s Encrypt介绍</h1><p>Let’s Encrypt作为一个公共且免费SSL的项目逐渐被广大用户传播和使用，是由Mozilla、Cisco、Akamai、IdenTrust、EFF等组织人员发起，主要的目的也是为了推进网站从HTTP向HTTPS过度的进程，目前已经有越来越多的商家加入和赞助支持。<br>免费SSL证书的出现，也会对传统提供付费SSL证书服务的商家有不小的打击。到目前为止，Let’s Encrypt获得IdenTrust交叉签名，这就是说可以应用且支持包括FireFox、Chrome在内的主流浏览器的兼容和支持，虽然目前是公测阶段，但是也有不少的用户在自有网站项目中正式使用起来。<br>虽然目前Let’s Encrypt免费SSL证书默认是90天有效期，但是我们也可以到期自动续约，不影响我们的尝试和使用。</p><h1 id="实践操作"><a href="#实践操作" class="headerlink" title="实践操作"></a>实践操作</h1><h2 id="环境介绍"><a href="#环境介绍" class="headerlink" title="环境介绍"></a>环境介绍</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># cat /etc/redhat-release</span></span><br><span class="line">CentOS Linux release 7.4.1708 (Core)</span><br><span class="line"><span class="comment"># uname -r</span></span><br><span class="line">3.10.0-693.el7.x86_64</span><br><span class="line"><span class="comment"># uname -m</span></span><br><span class="line">x86_64</span><br><span class="line"><span class="comment"># nginx -v</span></span><br><span class="line">nginx version: nginx/1.12.2</span><br></pre></td></tr></table></figure><h2 id="使用Certbot-ACME客户端配置"><a href="#使用Certbot-ACME客户端配置" class="headerlink" title="使用Certbot ACME客户端配置"></a>使用Certbot ACME客户端配置</h2><p><strong>第一步：选择软件及操作系统版本</strong><br><a href="https://certbot.eff.org/" target="_blank" rel="noopener">https://certbot.eff.org/</a><br>根据提示选择Web服务器软件及操作系统版本<br><img src="/archives/78579e83/01.png" alt=""><br><strong>第二步：设置域名解析</strong><br>使用工具配置证书时需要域名可以被正确解析到，请提前做好域名解析。<br><strong>第三步：安装Certbot tools及配置</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># yum install certbot-nginx</span></span><br><span class="line"><span class="comment"># certbot --nginx                     # 获取证书及配置nginx</span></span><br><span class="line"><span class="comment"># certbot --nginx certonly            # 只生成证书不自动配置nginx</span></span><br><span class="line"><span class="comment"># certbot renew --dry-run             # 重新获取证书</span></span><br><span class="line"><span class="comment"># cd /etc/letsencrypt/live/www.cwquery.com</span></span><br><span class="line"><span class="comment"># ls -l</span></span><br><span class="line">total 4</span><br><span class="line">lrwxrwxrwx 1 root root  39 Mar  8 14:07 cert.pem -&gt; ../../archive/www.cwquery.com/cert1.pem</span><br><span class="line">lrwxrwxrwx 1 root root  40 Mar  8 14:07 chain.pem -&gt; ../../archive/www.cwquery.com/chain1.pem</span><br><span class="line">lrwxrwxrwx 1 root root  44 Mar  8 14:07 fullchain.pem -&gt; ../../archive/www.cwquery.com/fullchain1.pem</span><br><span class="line">lrwxrwxrwx 1 root root  42 Mar  8 14:07 privkey.pem -&gt; ../../archive/www.cwquery.com/privkey1.pem</span><br><span class="line">-rw-r--r-- 1 root root 543 Mar  8 14:07 README</span><br><span class="line">This directory contains your keys and certificates.</span><br><span class="line"></span><br><span class="line">`privkey.pem`  : the private key <span class="keyword">for</span> your certificate.</span><br><span class="line">`fullchain.pem`: the certificate file used <span class="keyword">in</span> most server software.</span><br><span class="line">`chain.pem`    : used <span class="keyword">for</span> OCSP stapling <span class="keyword">in</span> Nginx &gt;=1.3.7.</span><br><span class="line">`cert.pem`     : will <span class="built_in">break</span> many server configurations, and should not be used</span><br><span class="line">                 without reading further documentation (see link below).</span><br><span class="line"></span><br><span class="line">We recommend not moving these files. For more information, see the Certbot</span><br><span class="line">User Guide at https://certbot.eff.org/docs/using.html<span class="comment">#where-are-my-certificates.</span></span><br></pre></td></tr></table></figure></p><p>配置nginx如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">    server &#123;</span><br><span class="line">        server_name www.cwquery.com; # managed by Certbot</span><br><span class="line">        listen [::]:443 ssl ipv6only=on; # managed by Certbot</span><br><span class="line">        listen 443 ssl; # managed by Certbot</span><br><span class="line">        ssl_certificate /etc/letsencrypt/live/www.cwquery.com/fullchain.pem; # managed by Certbot</span><br><span class="line">        ssl_certificate_key /etc/letsencrypt/live/www.cwquery.com/privkey.pem; # managed by Certbot</span><br><span class="line">        include /etc/letsencrypt/options-ssl-nginx.conf; # managed by Certbot</span><br><span class="line">        ssl_dhparam /etc/letsencrypt/ssl-dhparams.pem; # managed by Certbot</span><br><span class="line"></span><br><span class="line">        set $rootdir         /usr/share/nginx/html;</span><br><span class="line"></span><br><span class="line">        if ($remote_addr ~ &quot;123.124.197.100&quot;) &#123;</span><br><span class="line">            set $rootdir &quot;/usr/share/nginx/test&quot;;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        # Load configuration files for the default server block.</span><br><span class="line">        include /etc/nginx/default.d/*.conf;</span><br><span class="line"></span><br><span class="line">        location / &#123;</span><br><span class="line">            root $rootdir;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        error_page 404 /404.html;</span><br><span class="line">            location = /40x.html &#123;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        error_page 500 502 503 504 /50x.html;</span><br><span class="line">            location = /50x.html &#123;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">    server &#123;</span><br><span class="line">    if ($host = www.cwquery.com) &#123;</span><br><span class="line">        return 301 https://$host$request_uri;</span><br><span class="line">    &#125; # managed by Certbot</span><br><span class="line"></span><br><span class="line">    server_name www.cwquery.com;</span><br><span class="line">    return 404; # managed by Certbot</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p><strong>第四步：设置定时重新获取证书</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">0 0,12 * * * python -c <span class="string">'import random; import time; time.sleep(random.random() * 3600)'</span> &amp;&amp; certbot renew</span><br></pre></td></tr></table></figure></p><h2 id="效果展示"><a href="#效果展示" class="headerlink" title="效果展示"></a>效果展示</h2><p>谷歌浏览器测试<br><img src="/archives/78579e83/03.png" alt=""><br>证书信息<br><img src="/archives/78579e83/02.png" alt=""></p><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>通过以上几个步骤的学习和应用，我们肯定学会了利用Let’s Encrypt免费生成和获取SSL证书文件，随着Let’s Encrypt的应用普及，SSL以后直接免费不需要购买，因为大部分主流浏览器都支持且有更多的主流商家的支持和赞助，HTTPS以后看来也是趋势。在Let’s Encrypt执行过程在中我们需要解决几个问题。<br>1、域名DNS和解析问题。在配置Let’s Encrypt免费SSL证书的时候域名一定要解析到当前服务器，而且DNS尽量用海外域名DNS，如果用国内免费DNS可能会导致获取不到错误。<br>2、Let’s Encrypt默认是90天免费，需要手工或者自动续期才可以继续使用</p><h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><p><a href="https://letsencrypt.org/" target="_blank" rel="noopener">https://letsencrypt.org/</a><br><a href="https://certbot.eff.org/" target="_blank" rel="noopener">https://certbot.eff.org/</a></p><p>======================================================<br>希望各位朋友支持一下</p><ul><li>领取我的<a href="https://promotion.aliyun.com/ntms/act/ambassador/sharetouser.html?userCode=xpdsz87p&amp;utm_source=xpdsz87p" target="_blank" rel="noopener">阿里云幸运券</a>,谢谢.</li><li>使用<a href="https://cloud.tencent.com/redirect.php?redirect=1005&amp;cps_key=5a162632de40024cd01aabff4d3f1370" target="_blank" rel="noopener">腾讯云资源</a></li><li>自己的网站承接广告<a href="http://www.sudianlm.com/track/c/?rid=2056" target="_blank" rel="noopener">速点广告联盟</a></li><li>广告位招商QQ:1455975151</li><li>喜欢购物的朋友可以看看，<a href="http://www.1zhe.com/yq/1066027" target="_blank" rel="noopener">一折特卖</a><!--注册一折特卖，免费领集分宝，集分宝可以当钱花，免费购物不是梦，注册马上送你10集分宝。--></li></ul><p><strong>本文作者</strong>：dongsheng<br><strong>本文地址</strong>： <a href="https://mds1455975151.github.io/archives/78579e83.html">https://mds1455975151.github.io/archives/78579e83.html</a> <br><strong>版权声明</strong>：转载请注明出处！</p>]]></content>
    
    <summary type="html">
    
      使用LetsEncrypt配置网站https
    
    </summary>
    
      <category term="Linux运维" scheme="https://mds1455975151.github.io/categories/Linux%E8%BF%90%E7%BB%B4/"/>
    
    
      <category term="https" scheme="https://mds1455975151.github.io/tags/https/"/>
    
      <category term="LetsEncrypt" scheme="https://mds1455975151.github.io/tags/LetsEncrypt/"/>
    
      <category term="免费SSL证书" scheme="https://mds1455975151.github.io/tags/%E5%85%8D%E8%B4%B9SSL%E8%AF%81%E4%B9%A6/"/>
    
  </entry>
  
  <entry>
    <title>Nginx之使用Nginx实现灰度发布</title>
    <link href="https://mds1455975151.github.io/archives/8bece5b5.html"/>
    <id>https://mds1455975151.github.io/archives/8bece5b5.html</id>
    <published>2018-03-08T03:26:20.000Z</published>
    <updated>2018-03-08T04:45:53.631Z</updated>
    
    <content type="html"><![CDATA[<script src="\assets\js\APlayer.min.js"> </script><blockquote><p>使用Nginx实现灰度发布</p></blockquote><a id="more"></a><h1 id="灰度发布概述"><a href="#灰度发布概述" class="headerlink" title="灰度发布概述"></a>灰度发布概述</h1><p>灰度发布是指在黑与白之间，能够平滑过渡的一种发布方式。AB test就是一种灰度发布方式，让一部分用户继续用A，一部分用户开始用B，如果用户对B没有什么反对意见，那么逐步扩大范围，把所有用户都迁移到B上面来。<br>灰度发布可以保证整体系统的稳定，在初始灰度的时候就可以发现、调整问题，以保证其影响度。<br>灰度发布常见一般有三种方式:</p><ul><li>Nginx+LUA方式</li><li>根据Cookie实现灰度发布</li><li>根据来路IP实现灰度发布</li></ul><p>本文主要将讲解根据Cookie和来路IP这两种方式实现简单的灰度发布。</p><h1 id="部署实践"><a href="#部署实践" class="headerlink" title="部署实践"></a>部署实践</h1><h2 id="环境说明"><a href="#环境说明" class="headerlink" title="环境说明"></a>环境说明</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># cat /etc/redhat-release</span></span><br><span class="line">CentOS Linux release 7.4.1708 (Core)</span><br><span class="line"><span class="comment"># uname -r</span></span><br><span class="line">3.10.0-693.el7.x86_64</span><br><span class="line"><span class="comment"># uname -m</span></span><br><span class="line">x86_64</span><br><span class="line"><span class="comment"># nginx -v</span></span><br><span class="line">nginx version: nginx/1.12.2</span><br></pre></td></tr></table></figure><h2 id="基于IP地址的灰度发布实现"><a href="#基于IP地址的灰度发布实现" class="headerlink" title="基于IP地址的灰度发布实现"></a>基于IP地址的灰度发布实现</h2><p><strong>根据IP地址反向代理到不同的后端server</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">upstream prod &#123;</span><br><span class="line">    server 192.168.1.10;</span><br><span class="line">    server 192.168.1.11;</span><br><span class="line">&#125;</span><br><span class="line">upstream pre-prod &#123;</span><br><span class="line">    server 192.168.1.100;</span><br><span class="line">&#125;</span><br><span class="line">server &#123;</span><br><span class="line">    listen 80;</span><br><span class="line">    access_log /var/<span class="built_in">log</span>/nginx/access.log main;</span><br><span class="line">    <span class="built_in">set</span> <span class="variable">$web_backend</span> prod;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable">$remote_addr</span> ~ <span class="string">"123.123.123.123"</span>) &#123;</span><br><span class="line">        <span class="built_in">set</span> <span class="variable">$web_backend</span> pre-prod;</span><br><span class="line">    &#125;</span><br><span class="line">    location / &#123;</span><br><span class="line">        proxy_pass http://<span class="variable">$web_backend</span>;</span><br><span class="line">        include proxy.conf;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p><strong>根据IP地址设置不同的网站根目录</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">    listen 80;</span><br><span class="line">    access_log /var/log/nginx/access.log main;</span><br><span class="line">    set $rootdir &quot;/var/www/html&quot;;</span><br><span class="line">    if ($remote_addr ~ &quot;123.123.123.123&quot;) &#123;</span><br><span class="line">        set $rootdir &quot;/var/www/test&quot;;</span><br><span class="line">    &#125;</span><br><span class="line">    location / &#123;</span><br><span class="line">        root $rootdir;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><blockquote><p>set 命令依赖rewrite模块</p></blockquote><p><strong>利用geoip做基于地理位置的灰度发布</strong><br>参考：<a href="http://www.mamicode.com/info-detail-1477149.html" target="_blank" rel="noopener">http://www.mamicode.com/info-detail-1477149.html</a></p><h2 id="基于cookie的灰度发布实现"><a href="#基于cookie的灰度发布实现" class="headerlink" title="基于cookie的灰度发布实现"></a>基于cookie的灰度发布实现</h2><p><strong>if指令实现</strong><br><strong>map指令实现</strong><br>参考：<a href="https://www.cnblogs.com/weifeng1463/p/7353710.html" target="_blank" rel="noopener">https://www.cnblogs.com/weifeng1463/p/7353710.html</a></p><h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><p><a href="https://www.cnblogs.com/weifeng1463/p/7353710.html" target="_blank" rel="noopener">https://www.cnblogs.com/weifeng1463/p/7353710.html</a><br><a href="https://www.cnblogs.com/zhangyin6985/p/6064350.html" target="_blank" rel="noopener">https://www.cnblogs.com/zhangyin6985/p/6064350.html</a></p><p>======================================================<br>希望各位朋友支持一下</p><ul><li>领取我的<a href="https://promotion.aliyun.com/ntms/act/ambassador/sharetouser.html?userCode=xpdsz87p&amp;utm_source=xpdsz87p" target="_blank" rel="noopener">阿里云幸运券</a>,谢谢.</li><li>使用<a href="https://cloud.tencent.com/redirect.php?redirect=1005&amp;cps_key=5a162632de40024cd01aabff4d3f1370" target="_blank" rel="noopener">腾讯云资源</a></li><li>自己的网站承接广告<a href="http://www.sudianlm.com/track/c/?rid=2056" target="_blank" rel="noopener">速点广告联盟</a></li><li>广告位招商QQ:1455975151</li><li>喜欢购物的朋友可以看看，<a href="http://www.1zhe.com/yq/1066027" target="_blank" rel="noopener">一折特卖</a><!--注册一折特卖，免费领集分宝，集分宝可以当钱花，免费购物不是梦，注册马上送你10集分宝。--></li></ul><p><strong>本文作者</strong>：dongsheng<br><strong>本文地址</strong>： <a href="https://mds1455975151.github.io/archives/8bece5b5.html">https://mds1455975151.github.io/archives/8bece5b5.html</a> <br><strong>版权声明</strong>：转载请注明出处！</p>]]></content>
    
    <summary type="html">
    
      使用Nginx实现灰度发布
    
    </summary>
    
      <category term="Linux运维" scheme="https://mds1455975151.github.io/categories/Linux%E8%BF%90%E7%BB%B4/"/>
    
    
      <category term="Nginx" scheme="https://mds1455975151.github.io/tags/Nginx/"/>
    
      <category term="灰度发布" scheme="https://mds1455975151.github.io/tags/%E7%81%B0%E5%BA%A6%E5%8F%91%E5%B8%83/"/>
    
  </entry>
  
  <entry>
    <title>VMware之文件共享</title>
    <link href="https://mds1455975151.github.io/archives/534d4a72.html"/>
    <id>https://mds1455975151.github.io/archives/534d4a72.html</id>
    <published>2018-03-04T05:51:07.000Z</published>
    <updated>2018-03-05T02:55:05.554Z</updated>
    
    <content type="html"><![CDATA[<script src="\assets\js\APlayer.min.js"> </script><blockquote><p>VMware之文件共享</p></blockquote><a id="more"></a><h1 id="应用场景"><a href="#应用场景" class="headerlink" title="应用场景"></a>应用场景</h1><p>1、宿主机与虚拟机之间的文件共享<br>2、推广Docker服务，搭建Docker测试环境，将window下的代码共享到Linux虚拟机中使用</p><h1 id="操作实践"><a href="#操作实践" class="headerlink" title="操作实践"></a>操作实践</h1><h2 id="Linux环境"><a href="#Linux环境" class="headerlink" title="Linux环境"></a>Linux环境</h2><h3 id="环境说明"><a href="#环境说明" class="headerlink" title="环境说明"></a>环境说明</h3><p><strong>VMware版本</strong><br>VMware® Workstation 12 Pro<br>12.5.7 build-5813279</p><p><strong>虚拟机版本</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># cat /etc/redhat-release</span></span><br><span class="line">CentOS Linux release 7.4.1708 (Core)</span><br><span class="line"><span class="comment"># uname -r</span></span><br><span class="line">3.10.0-693.el7.x86_64</span><br><span class="line"><span class="comment"># uname -m</span></span><br><span class="line">x86_64</span><br></pre></td></tr></table></figure></p><h3 id="安装VMware-Tools"><a href="#安装VMware-Tools" class="headerlink" title="安装VMware Tools"></a>安装VMware Tools</h3><p>1、虚拟机工具栏–&gt;虚拟机–&gt;安装VMware Tools(VMware将会把工具ios挂载到虚拟机上)<br>2、安装工具<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># mkdir /mnt/cdrom</span></span><br><span class="line"><span class="comment"># mount /dev/cdrom /mnt/cdrom</span></span><br><span class="line"><span class="comment"># cd /mnt/cdrom</span></span><br><span class="line"><span class="comment"># mkdir /usr/local/vm-src</span></span><br><span class="line"><span class="comment"># cp VMwareTools-10.0.5-3228253.tar.gz /usr/local/vm-src</span></span><br><span class="line"><span class="comment"># cd /usr/local/vm-src</span></span><br><span class="line"><span class="comment"># tar zxvf VMwareTools-10.0.5-3228253.tar.gz</span></span><br><span class="line"><span class="comment"># cd vmware-tools-distrib</span></span><br><span class="line"><span class="comment"># ./vmware-install.pl   # 一路回车即可</span></span><br></pre></td></tr></table></figure></p><p>3、虚拟机设置共享文件夹<br><img src="/archives/534d4a72/01.png" alt=""><br>4、虚拟机中查看并挂载共享目录<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@docker-centos ~]<span class="comment"># vmware-hgfsclient</span></span><br><span class="line">code</span><br><span class="line">[root@docker-centos ~]<span class="comment"># mkdir /mnt/win</span></span><br><span class="line">[root@docker-centos ~]<span class="comment"># vmhgfs-fuse .host:/ /mnt/win -o subtype=vmhgfs-fuse,allow_other</span></span><br><span class="line">[root@docker-centos ~]<span class="comment"># cd /mnt/win/code/</span></span><br><span class="line">[root@docker-centos code]<span class="comment"># ll</span></span><br><span class="line">total 1</span><br><span class="line">-rwxrwxrwx 1 root root 1 Mar  3 14:05 code.txt</span><br></pre></td></tr></table></figure></p><h2 id="Window环境"><a href="#Window环境" class="headerlink" title="Window环境"></a>Window环境</h2><p>略</p><h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><p><a href="https://www.linuxidc.com/Linux/2017-04/142897.htm" target="_blank" rel="noopener">https://www.linuxidc.com/Linux/2017-04/142897.htm</a></p><p>======================================================<br>希望各位朋友支持一下</p><ul><li>领取我的<a href="https://promotion.aliyun.com/ntms/act/ambassador/sharetouser.html?userCode=xpdsz87p&amp;utm_source=xpdsz87p" target="_blank" rel="noopener">阿里云幸运券</a>,谢谢.</li><li>使用<a href="https://cloud.tencent.com/redirect.php?redirect=1005&amp;cps_key=5a162632de40024cd01aabff4d3f1370" target="_blank" rel="noopener">腾讯云资源</a></li><li>自己的网站承接广告<a href="http://www.sudianlm.com/track/c/?rid=2056" target="_blank" rel="noopener">速点广告联盟</a></li><li>广告位招商QQ:1455975151</li><li>喜欢购物的朋友可以看看，<a href="http://www.1zhe.com/yq/1066027" target="_blank" rel="noopener">一折特卖</a><!--注册一折特卖，免费领集分宝，集分宝可以当钱花，免费购物不是梦，注册马上送你10集分宝。--></li></ul><p><strong>本文作者</strong>：dongsheng<br><strong>本文地址</strong>： <a href="https://mds1455975151.github.io/archives/534d4a72.html">https://mds1455975151.github.io/archives/534d4a72.html</a> <br><strong>版权声明</strong>：转载请注明出处！</p>]]></content>
    
    <summary type="html">
    
      VMware之文件共享
    
    </summary>
    
      <category term="Linux运维" scheme="https://mds1455975151.github.io/categories/Linux%E8%BF%90%E7%BB%B4/"/>
    
    
      <category term="VMware" scheme="https://mds1455975151.github.io/tags/VMware/"/>
    
      <category term="文件共享" scheme="https://mds1455975151.github.io/tags/%E6%96%87%E4%BB%B6%E5%85%B1%E4%BA%AB/"/>
    
  </entry>
  
  <entry>
    <title>Python之虚拟环境</title>
    <link href="https://mds1455975151.github.io/archives/70f31043.html"/>
    <id>https://mds1455975151.github.io/archives/70f31043.html</id>
    <published>2018-03-02T09:44:21.000Z</published>
    <updated>2018-03-02T10:05:16.558Z</updated>
    
    <content type="html"><![CDATA[<script src="\assets\js\APlayer.min.js"> </script><blockquote><p>Python之虚拟环境</p></blockquote><a id="more"></a><h1 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h1><p>virtualenv可以搭建虚拟且独立的python运行环境, 使得单个项目的运行环境与其它项目独立起来.</p><h1 id="项目实践"><a href="#项目实践" class="headerlink" title="项目实践"></a>项目实践</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">[root@linux-node8 ~]<span class="comment"># pip install virtualenv</span></span><br><span class="line">Collecting virtualenv</span><br><span class="line">  Downloading virtualenv-15.1.0-py2.py3-none-any.whl (1.8MB)</span><br><span class="line">    100% |████████████████████████████████| 1.8MB 600kB/s</span><br><span class="line">Installing collected packages: virtualenv</span><br><span class="line">Successfully installed virtualenv-15.1.0</span><br><span class="line">[root@linux-node8 ~]<span class="comment"># virtualenv test1              # 创建虚拟环境</span></span><br><span class="line">New python executable <span class="keyword">in</span> /root/test1/bin/python2</span><br><span class="line">Also creating executable <span class="keyword">in</span> /root/test1/bin/python</span><br><span class="line">Installing setuptools, pip, wheel...done.</span><br><span class="line">[root@linux-node8 ~]<span class="comment"># source test1/bin/activate     # 进入虚拟环境目录</span></span><br><span class="line">(test1) [root@linux-node8 ~]<span class="comment"># ls -l</span></span><br><span class="line">total 8</span><br><span class="line">-rw-------. 1 root root 1086 Feb 26  2017 anaconda-ks.cfg</span><br><span class="line">-rw-r--r--  1 root root  424 Mar  2 04:43 requirements.txt</span><br><span class="line">drwxr-xr-x  5 root root   77 Mar  2 04:57 test1</span><br><span class="line">(test1) [root@linux-node8 ~]<span class="comment"># deactivate          # 退出虚拟环境</span></span><br><span class="line">[root@linux-node8 ~]<span class="comment">#</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[root@linux-node8 ~]<span class="comment"># virtualenv --system-site-packages test2   # 默认情况下, 虚拟环境中不包括系统的site-packages, 若要使用请添加参数</span></span><br><span class="line">New python executable <span class="keyword">in</span> /root/test2/bin/python2</span><br><span class="line">Also creating executable <span class="keyword">in</span> /root/test2/bin/python</span><br><span class="line">Installing setuptools, pip, wheel...done.</span><br><span class="line">[root@linux-node8 ~]<span class="comment"># source test2/bin/activate</span></span><br><span class="line">(test2) [root@linux-node8 ~]<span class="comment"># pip freeze &gt;1.txt</span></span><br><span class="line">(test2) [root@linux-node8 ~]<span class="comment"># cat 1.txt</span></span><br><span class="line">backports.ssl-match-hostname==3.4.0.2</span><br><span class="line">chardet==2.2.1</span><br><span class="line">configobj==4.7.2</span><br><span class="line">.............</span><br><span class="line">urlgrabber==3.10</span><br><span class="line">virtualenv==15.1.0</span><br><span class="line">yum-metadata-parser==1.1.4</span><br><span class="line">(test2) [root@linux-node8 ~]<span class="comment"># deactivate</span></span><br></pre></td></tr></table></figure><h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><p>1、官网资料：<a href="https://virtualenv.pypa.io/en/stable/" target="_blank" rel="noopener">https://virtualenv.pypa.io/en/stable/</a></p><p>======================================================<br>希望各位朋友支持一下</p><ul><li>领取我的<a href="https://promotion.aliyun.com/ntms/act/ambassador/sharetouser.html?userCode=xpdsz87p&amp;utm_source=xpdsz87p" target="_blank" rel="noopener">阿里云幸运券</a>,谢谢.</li><li>使用<a href="https://cloud.tencent.com/redirect.php?redirect=1005&amp;cps_key=5a162632de40024cd01aabff4d3f1370" target="_blank" rel="noopener">腾讯云资源</a></li><li>自己的网站承接广告<a href="http://www.sudianlm.com/track/c/?rid=2056" target="_blank" rel="noopener">速点广告联盟</a></li><li>广告位招商QQ:1455975151</li><li>喜欢购物的朋友可以看看，<a href="http://www.1zhe.com/yq/1066027" target="_blank" rel="noopener">一折特卖</a><!--注册一折特卖，免费领集分宝，集分宝可以当钱花，免费购物不是梦，注册马上送你10集分宝。--></li></ul><p><strong>本文作者</strong>：dongsheng<br><strong>本文地址</strong>： <a href="https://mds1455975151.github.io/archives/70f31043.html">https://mds1455975151.github.io/archives/70f31043.html</a> <br><strong>版权声明</strong>：转载请注明出处！</p>]]></content>
    
    <summary type="html">
    
      Python之虚拟环境
    
    </summary>
    
      <category term="自动化开发" scheme="https://mds1455975151.github.io/categories/%E8%87%AA%E5%8A%A8%E5%8C%96%E5%BC%80%E5%8F%91/"/>
    
    
      <category term="Python" scheme="https://mds1455975151.github.io/tags/Python/"/>
    
      <category term="虚拟环境" scheme="https://mds1455975151.github.io/tags/%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83/"/>
    
      <category term="virtualenv" scheme="https://mds1455975151.github.io/tags/virtualenv/"/>
    
  </entry>
  
  <entry>
    <title>Python之项目依赖包管理</title>
    <link href="https://mds1455975151.github.io/archives/ba45f1d3.html"/>
    <id>https://mds1455975151.github.io/archives/ba45f1d3.html</id>
    <published>2018-03-02T09:41:26.000Z</published>
    <updated>2018-03-02T09:52:31.759Z</updated>
    
    <content type="html"><![CDATA[<script src="\assets\js\APlayer.min.js"> </script><blockquote><p>Python之项目依赖包管理</p></blockquote><a id="more"></a><h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><blockquote><p>Python项目会涉及到各种依赖包的安装问题，如果环境改变如何快速将所有依赖的包记录下来并快速的在新环境中安装好？以下我们来解决这个问题。</p></blockquote><h1 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h1><h2 id="生成现有环境依赖包列表"><a href="#生成现有环境依赖包列表" class="headerlink" title="生成现有环境依赖包列表"></a>生成现有环境依赖包列表</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@linux-node8 ~]<span class="comment"># pip freeze &gt;requirements.txt</span></span><br><span class="line">[root@linux-node8 ~]<span class="comment"># cat requirements.txt</span></span><br><span class="line">backports.ssl-match-hostname==3.4.0.2</span><br><span class="line">chardet==2.2.1</span><br><span class="line">configobj==4.7.2</span><br><span class="line">decorator==3.4.0</span><br><span class="line">iniparse==0.4</span><br></pre></td></tr></table></figure><h2 id="新环境快速安装项目依赖包"><a href="#新环境快速安装项目依赖包" class="headerlink" title="新环境快速安装项目依赖包"></a>新环境快速安装项目依赖包</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@linux-node8 ~]<span class="comment"># pip install -r requirements.txt</span></span><br></pre></td></tr></table></figure><h2 id="相关参数说明"><a href="#相关参数说明" class="headerlink" title="相关参数说明"></a>相关参数说明</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">pip freeze</span><br><span class="line">即：Output installed packages <span class="keyword">in</span> requirements format.</span><br><span class="line">pip install -r requirements.txt：</span><br><span class="line">即：-r, --requirement &lt;file&gt;    Install from the given requirements file. This option can be used multiple <span class="built_in">times</span>.</span><br></pre></td></tr></table></figure><h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><p>======================================================<br>希望各位朋友支持一下</p><ul><li>领取我的<a href="https://promotion.aliyun.com/ntms/act/ambassador/sharetouser.html?userCode=xpdsz87p&amp;utm_source=xpdsz87p" target="_blank" rel="noopener">阿里云幸运券</a>,谢谢.</li><li>使用<a href="https://cloud.tencent.com/redirect.php?redirect=1005&amp;cps_key=5a162632de40024cd01aabff4d3f1370" target="_blank" rel="noopener">腾讯云资源</a></li><li>自己的网站承接广告<a href="http://www.sudianlm.com/track/c/?rid=2056" target="_blank" rel="noopener">速点广告联盟</a></li><li>广告位招商QQ:1455975151</li><li>喜欢购物的朋友可以看看，<a href="http://www.1zhe.com/yq/1066027" target="_blank" rel="noopener">一折特卖</a><!--注册一折特卖，免费领集分宝，集分宝可以当钱花，免费购物不是梦，注册马上送你10集分宝。--></li></ul><p><strong>本文作者</strong>：dongsheng<br><strong>本文地址</strong>： <a href="https://mds1455975151.github.io/archives/ba45f1d3.html">https://mds1455975151.github.io/archives/ba45f1d3.html</a> <br><strong>版权声明</strong>：转载请注明出处！</p>]]></content>
    
    <summary type="html">
    
      Python之项目依赖包管理
    
    </summary>
    
      <category term="自动化开发" scheme="https://mds1455975151.github.io/categories/%E8%87%AA%E5%8A%A8%E5%8C%96%E5%BC%80%E5%8F%91/"/>
    
    
      <category term="Python" scheme="https://mds1455975151.github.io/tags/Python/"/>
    
      <category term="依赖管理" scheme="https://mds1455975151.github.io/tags/%E4%BE%9D%E8%B5%96%E7%AE%A1%E7%90%86/"/>
    
  </entry>
  
  <entry>
    <title>Code-Review之Phabricator入门</title>
    <link href="https://mds1455975151.github.io/archives/ca47022b.html"/>
    <id>https://mds1455975151.github.io/archives/ca47022b.html</id>
    <published>2018-03-02T05:53:51.000Z</published>
    <updated>2018-03-02T10:10:35.446Z</updated>
    
    <content type="html"><![CDATA[<script src="\assets\js\APlayer.min.js"> </script><p>&gt;</p><a id="more"></a><h1 id="Phabricator简介"><a href="#Phabricator简介" class="headerlink" title="Phabricator简介"></a>Phabricator简介</h1><p><a href="https://phacility.com/" target="_blank" rel="noopener">官网地址</a></p><p>======================================================<br>希望各位朋友支持一下</p><ul><li>领取我的<a href="https://promotion.aliyun.com/ntms/act/ambassador/sharetouser.html?userCode=xpdsz87p&amp;utm_source=xpdsz87p" target="_blank" rel="noopener">阿里云幸运券</a>,谢谢.</li><li>使用<a href="https://cloud.tencent.com/redirect.php?redirect=1005&amp;cps_key=5a162632de40024cd01aabff4d3f1370" target="_blank" rel="noopener">腾讯云资源</a></li><li>自己的网站承接广告<a href="http://www.sudianlm.com/track/c/?rid=2056" target="_blank" rel="noopener">速点广告联盟</a></li><li>广告位招商QQ:1455975151</li><li>喜欢购物的朋友可以看看，<a href="http://www.1zhe.com/yq/1066027" target="_blank" rel="noopener">一折特卖</a><!--注册一折特卖，免费领集分宝，集分宝可以当钱花，免费购物不是梦，注册马上送你10集分宝。--></li></ul><p><strong>本文作者</strong>：dongsheng<br><strong>本文地址</strong>： <a href="https://mds1455975151.github.io/archives/ca47022b.html">https://mds1455975151.github.io/archives/ca47022b.html</a> <br><strong>版权声明</strong>：转载请注明出处！</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;gt;&lt;/p&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>配置管理工程师之技能需求</title>
    <link href="https://mds1455975151.github.io/archives/eee8f7af.html"/>
    <id>https://mds1455975151.github.io/archives/eee8f7af.html</id>
    <published>2018-03-02T05:14:54.000Z</published>
    <updated>2018-03-02T10:10:37.852Z</updated>
    
    <content type="html"><![CDATA[<script src="\assets\js\APlayer.min.js"> </script><blockquote><p>配置管理工程师之技能需求</p></blockquote><a id="more"></a><h1 id="配置管理概念"><a href="#配置管理概念" class="headerlink" title="配置管理概念"></a>配置管理概念</h1><p>配置管理（Configuration Management，CM）是通过技术或行政手段对软件产品及其开发过程和生命周期进行控制、规范的一系列措施。配置管理的目标是记录软件产品的演化过程，确保软件开发者在软件生命周期中各个阶段都能得到精确的产品配置。<br>更详细介绍，请点击<a href="https://baike.baidu.com/item/%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/10090499?fr=aladdin" target="_blank" rel="noopener">这里</a></p><h1 id="岗位职责及技能要求"><a href="#岗位职责及技能要求" class="headerlink" title="岗位职责及技能要求"></a>岗位职责及技能要求</h1><p>岗位职责：<br>1、负责制定合理的配置管理策略、制度、流程，并负责推广、培训和优化；<br>2、负责搭建、维护配置管理系统，负责公司产品的版本控制、构建与发布管理；<br>3、负责项目的基线管理、分支管理、版本管理、编译管理，发布管理、归档管理等工作；<br>4、持续跟进优化配置管理相关规范及流程，协助解决开发过程中发现的各种与配置相关问题。</p><p>技能要求：<br>1、熟悉配置管理理论方法，了解项目管理过程和产品开发过程，具备配置管理、变更管理、构建发布过程的实际经验（有持续集成环境配置经验优先）；<br>2、熟练使用SVN， git源码管理工具（有gitlab使用及相关工具配置经验优先）；<br>3、熟悉jenkins 持续集成相关工具（如果可以使用gitlab自带的runner等其他持续集成工具完成相应功能亦可）；<br>4、熟悉linux命令（centos使用者加分），可以编写简单的脚本与jenkins等持续集成工具共同完成自动化运维相关任务（可以在服务器安装配置各种开源软件产品如redis，hadoop技术栈，mongodb等加分）；<br>5、工作态度认真、责任心强、工作细心、有良好的沟通能力、能快速融入团队；<br>6、两年以上工作经验，有互联网产品配置管理经验的优先。</p><h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><p>======================================================<br>希望各位朋友支持一下</p><ul><li>领取我的<a href="https://promotion.aliyun.com/ntms/act/ambassador/sharetouser.html?userCode=xpdsz87p&amp;utm_source=xpdsz87p" target="_blank" rel="noopener">阿里云幸运券</a>,谢谢.</li><li>使用<a href="https://cloud.tencent.com/redirect.php?redirect=1005&amp;cps_key=5a162632de40024cd01aabff4d3f1370" target="_blank" rel="noopener">腾讯云资源</a></li><li>自己的网站承接广告<a href="http://www.sudianlm.com/track/c/?rid=2056" target="_blank" rel="noopener">速点广告联盟</a></li><li>广告位招商QQ:1455975151</li><li>喜欢购物的朋友可以看看，<a href="http://www.1zhe.com/yq/1066027" target="_blank" rel="noopener">一折特卖</a><!--注册一折特卖，免费领集分宝，集分宝可以当钱花，免费购物不是梦，注册马上送你10集分宝。--></li></ul><p><strong>本文作者</strong>：dongsheng<br><strong>本文地址</strong>： <a href="https://mds1455975151.github.io/archives/eee8f7af.html">https://mds1455975151.github.io/archives/eee8f7af.html</a> <br><strong>版权声明</strong>：转载请注明出处！</p>]]></content>
    
    <summary type="html">
    
      配置管理工程师之技能需求
    
    </summary>
    
      <category term="其他" scheme="https://mds1455975151.github.io/categories/%E5%85%B6%E4%BB%96/"/>
    
    
      <category term="配置管理" scheme="https://mds1455975151.github.io/tags/%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/"/>
    
  </entry>
  
  <entry>
    <title>Code-Review之Gerrit入门</title>
    <link href="https://mds1455975151.github.io/archives/fba2f6b5.html"/>
    <id>https://mds1455975151.github.io/archives/fba2f6b5.html</id>
    <published>2018-03-02T02:54:29.000Z</published>
    <updated>2018-03-02T03:05:07.804Z</updated>
    
    <content type="html"><![CDATA[<script src="\assets\js\APlayer.min.js"> </script><blockquote><p>Code-Review之Gerrit入门</p></blockquote><a id="more"></a><h1 id="Tutorial"><a href="#Tutorial" class="headerlink" title="Tutorial"></a>Tutorial</h1><h2 id="Getting-started"><a href="#Getting-started" class="headerlink" title="Getting started"></a>Getting started</h2><h3 id="A-Quick-Introduction-to-Gerrit"><a href="#A-Quick-Introduction-to-Gerrit" class="headerlink" title="A Quick Introduction to Gerrit"></a>A Quick Introduction to Gerrit</h3><p>Gerrit是一个机遇web的代码审查工具，构建在git版本控制系统的基础之上。<br><strong>What is Gerrit?</strong><br><strong>Where does Gerrit fit in?</strong></p><p>The Life and Times of a Change<br>Cloning the Repository<br>Creating the Review<br>Reviewing the Change<br>Reworking the Change<br>Trying out the Change<br>Manually Verifying the Change<br>Submitting the Change</p><h3 id="User-Guide"><a href="#User-Guide" class="headerlink" title="User Guide"></a>User Guide</h3><h3 id="Project-Owner-Guide"><a href="#Project-Owner-Guide" class="headerlink" title="Project Owner Guide"></a>Project Owner Guide</h3><h3 id="Default-Android-Workflow-external"><a href="#Default-Android-Workflow-external" class="headerlink" title="Default Android Workflow (external)"></a>Default Android Workflow (external)</h3><h2 id="Web"><a href="#Web" class="headerlink" title="Web"></a>Web</h2><p>======================================================<br>希望各位朋友支持一下</p><ul><li>领取我的<a href="https://promotion.aliyun.com/ntms/act/ambassador/sharetouser.html?userCode=xpdsz87p&amp;utm_source=xpdsz87p" target="_blank" rel="noopener">阿里云幸运券</a>,谢谢.</li><li>使用<a href="https://cloud.tencent.com/redirect.php?redirect=1005&amp;cps_key=5a162632de40024cd01aabff4d3f1370" target="_blank" rel="noopener">腾讯云资源</a></li><li>自己的网站承接广告<a href="http://www.sudianlm.com/track/c/?rid=2056" target="_blank" rel="noopener">速点广告联盟</a></li><li>广告位招商QQ:1455975151</li><li>喜欢购物的朋友可以看看，<a href="http://www.1zhe.com/yq/1066027" target="_blank" rel="noopener">一折特卖</a><!--注册一折特卖，免费领集分宝，集分宝可以当钱花，免费购物不是梦，注册马上送你10集分宝。--></li></ul><p><strong>本文作者</strong>：dongsheng<br><strong>本文地址</strong>： <a href="https://mds1455975151.github.io/archives/fba2f6b5.html">https://mds1455975151.github.io/archives/fba2f6b5.html</a> <br><strong>版权声明</strong>：转载请注明出处！</p>]]></content>
    
    <summary type="html">
    
      Code-Review之Gerrit入门
    
    </summary>
    
      <category term="Linux运维" scheme="https://mds1455975151.github.io/categories/Linux%E8%BF%90%E7%BB%B4/"/>
    
    
      <category term="Code-Review" scheme="https://mds1455975151.github.io/tags/Code-Review/"/>
    
      <category term="Gerrit" scheme="https://mds1455975151.github.io/tags/Gerrit/"/>
    
  </entry>
  
  <entry>
    <title>Foreman使用体验</title>
    <link href="https://mds1455975151.github.io/archives/4e0578ac.html"/>
    <id>https://mds1455975151.github.io/archives/4e0578ac.html</id>
    <published>2018-02-27T09:11:15.000Z</published>
    <updated>2018-02-27T09:37:40.639Z</updated>
    
    <content type="html"><![CDATA[<script src="\assets\js\APlayer.min.js"> </script><blockquote><p>Foreman使用体验</p></blockquote><a id="more"></a><h1 id="Foreman简介"><a href="#Foreman简介" class="headerlink" title="Foreman简介"></a>Foreman简介</h1><blockquote><p>Foreman is a complete lifecycle management tool for physical and virtual servers. We give system administrators the power to easily automate repetitive tasks, quickly deploy applications, and proactively manage servers, on-premise or in the cloud.</p></blockquote><p>官网地址：<a href="https://theforeman.org/" target="_blank" rel="noopener">https://theforeman.org/</a><br>文档地址：<a href="https://theforeman.org/manuals/1.16/index.html" target="_blank" rel="noopener">https://theforeman.org/manuals/1.16/index.html</a></p><h1 id="环境说明"><a href="#环境说明" class="headerlink" title="环境说明"></a>环境说明</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@linux-node8 ~]<span class="comment"># cat /etc/redhat-release</span></span><br><span class="line">CentOS Linux release 7.2.1511 (Core)</span><br><span class="line">[root@linux-node8 ~]<span class="comment"># uname -r</span></span><br><span class="line">3.10.0-327.el7.x86_64</span><br><span class="line">[root@linux-node8 ~]<span class="comment"># uname -m</span></span><br><span class="line">x86_64</span><br></pre></td></tr></table></figure><h1 id="部署实践"><a href="#部署实践" class="headerlink" title="部署实践"></a>部署实践</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[root@linux-node8 ~]<span class="comment"># yum -y install https://yum.puppetlabs.com/puppet5/puppet5-release-el-7.noarch.rpm</span></span><br><span class="line">[root@linux-node8 ~]<span class="comment"># yum -y install http://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm</span></span><br><span class="line">[root@linux-node8 ~]<span class="comment"># yum -y install https://yum.theforeman.org/releases/1.16/el7/x86_64/foreman-release.rpm</span></span><br><span class="line">[root@linux-node8 ~]<span class="comment"># yum -y install foreman-installer</span></span><br><span class="line">[root@linux-node8 ~]<span class="comment"># foreman-installer</span></span><br><span class="line">Installing             Done                                               [100%] [...............................................................................................]</span><br><span class="line">  Success!</span><br><span class="line">  * Foreman is running at https://linux-node8.example.com</span><br><span class="line">      Initial credentials are admin / JSkjTzSsVSZWXTJ4</span><br><span class="line">  * Foreman Proxy is running at https://linux-node8.example.com:8443</span><br><span class="line">  * Puppetmaster is running at port 8140</span><br><span class="line">  The full <span class="built_in">log</span> is at /var/<span class="built_in">log</span>/foreman-installer/foreman.log</span><br></pre></td></tr></table></figure><p>登录界面<br><img src="/archives/4e0578ac/01.png" alt=""><br>登录后首页<br><img src="/archives/4e0578ac/02.png" alt=""></p><h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><p><a href="https://martinliu.cn/2015/06/16/e59ca8-rhel-7-e4b88ae5ae89e8a385-foreman-1-8/" target="_blank" rel="noopener">https://martinliu.cn/2015/06/16/e59ca8-rhel-7-e4b88ae5ae89e8a385-foreman-1-8/</a></p><p>======================================================<br>希望各位朋友支持一下</p><ul><li>领取我的<a href="https://promotion.aliyun.com/ntms/act/ambassador/sharetouser.html?userCode=xpdsz87p&amp;utm_source=xpdsz87p" target="_blank" rel="noopener">阿里云幸运券</a>,谢谢.</li><li>使用<a href="https://cloud.tencent.com/redirect.php?redirect=1005&amp;cps_key=5a162632de40024cd01aabff4d3f1370" target="_blank" rel="noopener">腾讯云资源</a></li><li>自己的网站承接广告<a href="http://www.sudianlm.com/track/c/?rid=2056" target="_blank" rel="noopener">速点广告联盟</a></li><li>广告位招商QQ:1455975151</li><li>喜欢购物的朋友可以看看，<a href="http://www.1zhe.com/yq/1066027" target="_blank" rel="noopener">一折特卖</a><!--注册一折特卖，免费领集分宝，集分宝可以当钱花，免费购物不是梦，注册马上送你10集分宝。--></li></ul><p><strong>本文作者</strong>：dongsheng<br><strong>本文地址</strong>： <a href="https://mds1455975151.github.io/archives/4e0578ac.html">https://mds1455975151.github.io/archives/4e0578ac.html</a> <br><strong>版权声明</strong>：转载请注明出处！</p>]]></content>
    
    <summary type="html">
    
      Foreman使用体验
    
    </summary>
    
      <category term="Linux运维" scheme="https://mds1455975151.github.io/categories/Linux%E8%BF%90%E7%BB%B4/"/>
    
    
      <category term="Foreman" scheme="https://mds1455975151.github.io/tags/Foreman/"/>
    
  </entry>
  
  <entry>
    <title>如何减压？</title>
    <link href="https://mds1455975151.github.io/archives/c9789322.html"/>
    <id>https://mds1455975151.github.io/archives/c9789322.html</id>
    <published>2018-02-27T08:35:16.000Z</published>
    <updated>2018-02-27T09:01:03.038Z</updated>
    
    <content type="html"><![CDATA[<script src="\assets\js\APlayer.min.js"> </script><blockquote><p>如何面对压力？如何减压？</p></blockquote><a id="more"></a><p>知乎减压话题：<a href="https://www.zhihu.com/search?type=content&amp;q=%E5%A6%82%E4%BD%95%E5%87%8F%E5%8E%8B" target="_blank" rel="noopener">https://www.zhihu.com/search?type=content&amp;q=%E5%A6%82%E4%BD%95%E5%87%8F%E5%8E%8B</a><br>工作压力大的时候如何得到内心的平静：<a href="https://www.zhihu.com/question/22177438" target="_blank" rel="noopener">https://www.zhihu.com/question/22177438</a><br>压力过大首要因素就是对未来即将发生的事情过度的担忧。。。。<br>压在中国人身上的4座大山：1.房子 2.婚姻 3.孩子 4.野心。</p><p>合适自己的减压方式：</p><ul><li>爬山</li><li>跑步</li><li>收拾房间</li><li>音乐</li><li>电影</li></ul><p>======================================================<br>希望各位朋友支持一下</p><ul><li>领取我的<a href="https://promotion.aliyun.com/ntms/act/ambassador/sharetouser.html?userCode=xpdsz87p&amp;utm_source=xpdsz87p" target="_blank" rel="noopener">阿里云幸运券</a>,谢谢.</li><li>使用<a href="https://cloud.tencent.com/redirect.php?redirect=1005&amp;cps_key=5a162632de40024cd01aabff4d3f1370" target="_blank" rel="noopener">腾讯云资源</a></li><li>自己的网站承接广告<a href="http://www.sudianlm.com/track/c/?rid=2056" target="_blank" rel="noopener">速点广告联盟</a></li><li>广告位招商QQ:1455975151</li><li>喜欢购物的朋友可以看看，<a href="http://www.1zhe.com/yq/1066027" target="_blank" rel="noopener">一折特卖</a><!--注册一折特卖，免费领集分宝，集分宝可以当钱花，免费购物不是梦，注册马上送你10集分宝。--></li></ul><p><strong>本文作者</strong>：dongsheng<br><strong>本文地址</strong>： <a href="https://mds1455975151.github.io/archives/c9789322.html">https://mds1455975151.github.io/archives/c9789322.html</a> <br><strong>版权声明</strong>：转载请注明出处！</p>]]></content>
    
    <summary type="html">
    
      如何面对压力？如何减压？
    
    </summary>
    
      <category term="生活记录" scheme="https://mds1455975151.github.io/categories/%E7%94%9F%E6%B4%BB%E8%AE%B0%E5%BD%95/"/>
    
    
      <category term="减压" scheme="https://mds1455975151.github.io/tags/%E5%87%8F%E5%8E%8B/"/>
    
      <category term="压力" scheme="https://mds1455975151.github.io/tags/%E5%8E%8B%E5%8A%9B/"/>
    
  </entry>
  
  <entry>
    <title>Git之Gitosis</title>
    <link href="https://mds1455975151.github.io/archives/ad17686.html"/>
    <id>https://mds1455975151.github.io/archives/ad17686.html</id>
    <published>2018-02-24T03:35:27.000Z</published>
    <updated>2018-02-24T06:15:12.445Z</updated>
    
    <content type="html"><![CDATA[<script src="\assets\js\APlayer.min.js"> </script><blockquote><p>Gitosis</p></blockquote><a id="more"></a><h1 id="Gitosis简介"><a href="#Gitosis简介" class="headerlink" title="Gitosis简介"></a>Gitosis简介</h1><p><a href="https://github.com/res0nat0r/gitosis" target="_blank" rel="noopener">Github地址</a></p><h1 id="环境说明"><a href="#环境说明" class="headerlink" title="环境说明"></a>环境说明</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@linux-node9 ~]<span class="comment"># cat /etc/redhat-release</span></span><br><span class="line">CentOS Linux release 7.2.1511 (Core)</span><br><span class="line">[root@linux-node9 ~]<span class="comment"># uname -r</span></span><br><span class="line">3.10.0-327.el7.x86_64</span><br><span class="line">[root@linux-node9 ~]<span class="comment"># uname -m</span></span><br><span class="line">x86_64</span><br></pre></td></tr></table></figure><h1 id="安装及配置Gitosis"><a href="#安装及配置Gitosis" class="headerlink" title="安装及配置Gitosis"></a>安装及配置Gitosis</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line">[root@linux-node9 ~]<span class="comment"># git clone git://github.com/res0nat0r/gitosis.git</span></span><br><span class="line">[root@linux-node9 ~]<span class="comment"># cd gitosis/</span></span><br><span class="line">[root@linux-node9 gitosis]<span class="comment"># python setup.py install</span></span><br><span class="line">[root@linux-node9 gitosis]<span class="comment"># useradd \</span></span><br><span class="line">                            -r \</span><br><span class="line">                            -s /bin/sh \</span><br><span class="line">                            -c <span class="string">'git version control'</span> \</span><br><span class="line">                            -d /home/git \</span><br><span class="line">                            git</span><br><span class="line">[root@linux-node9 gitosis]<span class="comment"># mkdir -p /home/git</span></span><br><span class="line">[root@linux-node9 gitosis]<span class="comment"># chown git:git /home/git</span></span><br><span class="line">[root@linux-node9 ~]<span class="comment"># su - git</span></span><br><span class="line">-sh-4.2$ ls -l</span><br><span class="line">total 0</span><br><span class="line">-sh-4.2$ ssh-keygen</span><br><span class="line">Generating public/private rsa key pair.</span><br><span class="line">Enter file <span class="keyword">in</span> <span class="built_in">which</span> to save the key (/home/git/.ssh/id_rsa):</span><br><span class="line">Created directory <span class="string">'/home/git/.ssh'</span>.</span><br><span class="line">Enter passphrase (empty <span class="keyword">for</span> no passphrase):</span><br><span class="line">Enter same passphrase again:</span><br><span class="line">Your identification has been saved <span class="keyword">in</span> /home/git/.ssh/id_rsa.</span><br><span class="line">Your public key has been saved <span class="keyword">in</span> /home/git/.ssh/id_rsa.pub.</span><br><span class="line">The key fingerprint is:</span><br><span class="line"><span class="built_in">fc</span>:32:e9:fe:4d:97:f5:9b:3c:ea:bd:f6:9a:05:b8:d3 git@linux-node9.example.com</span><br><span class="line">The key<span class="string">'s randomart image is:</span></span><br><span class="line"><span class="string">+--[ RSA 2048]----+</span></span><br><span class="line"><span class="string">|                 |</span></span><br><span class="line"><span class="string">|                 |</span></span><br><span class="line"><span class="string">|                 |</span></span><br><span class="line"><span class="string">|       .     .   |</span></span><br><span class="line"><span class="string">|        S   . . .|</span></span><br><span class="line"><span class="string">|         o   o +.|</span></span><br><span class="line"><span class="string">|        + . + E o|</span></span><br><span class="line"><span class="string">|       . o o oo=o|</span></span><br><span class="line"><span class="string">|       .o.. oo=B=|</span></span><br><span class="line"><span class="string">+-----------------+</span></span><br><span class="line"><span class="string">-sh-4.2$ ls -l</span></span><br><span class="line"><span class="string">total 0</span></span><br><span class="line"><span class="string">-sh-4.2$ cd .ssh/</span></span><br><span class="line"><span class="string">-sh-4.2$ ls -al</span></span><br><span class="line"><span class="string">total 8</span></span><br><span class="line"><span class="string">drwx------ 2 git git   36 Feb 23 22:49 .</span></span><br><span class="line"><span class="string">drwxr-xr-x 3 git git   17 Feb 23 22:49 ..</span></span><br><span class="line"><span class="string">-rw------- 1 git git 1679 Feb 23 22:49 id_rsa</span></span><br><span class="line"><span class="string">-rw-r--r-- 1 git git  409 Feb 23 22:49 id_rsa.pub</span></span><br><span class="line"><span class="string">-sh-4.2$ gitosis-init &lt;id_rsa.pub</span></span><br><span class="line"><span class="string">Initialized empty Git repository in /home/git/repositories/gitosis-admin.git/</span></span><br><span class="line"><span class="string">Reinitialized existing Git repository in /home/git/repositories/gitosis-admin.git/</span></span><br><span class="line"><span class="string">-sh-4.2$ ls -l</span></span><br><span class="line"><span class="string">total 12</span></span><br><span class="line"><span class="string">-rw-r--r-- 1 git git  567 Feb 23 22:49 authorized_keys</span></span><br><span class="line"><span class="string">-rw------- 1 git git 1679 Feb 23 22:49 id_rsa</span></span><br><span class="line"><span class="string">-rw-r--r-- 1 git git  409 Feb 23 22:49 id_rsa.pub</span></span><br><span class="line"><span class="string">-sh-4.2$ cd</span></span><br><span class="line"><span class="string">-sh-4.2$ ls -l</span></span><br><span class="line"><span class="string">total 0</span></span><br><span class="line"><span class="string">drwxr-xr-x 2 git git 26 Feb 23 22:49 gitosis</span></span><br><span class="line"><span class="string">drwxr-xr-x 3 git git 30 Feb 23 22:49 repositories</span></span><br><span class="line"><span class="string">-sh-4.2$ git clone git@192.168.200.109:gitosis-admin.git</span></span><br><span class="line"><span class="string">▽loning into '</span>gitosis-admin<span class="string">'...</span></span><br><span class="line"><span class="string">The authenticity of host '</span>192.168.200.109 (192.168.200.109)<span class="string">' can'</span>t be established.</span><br><span class="line">ECDSA key fingerprint is 2a:d8:e2:3a:ff:a5:58:a2:bd:95:4f:24:c2:6c:5f:ef.</span><br><span class="line">Are you sure you want to <span class="built_in">continue</span> connecting (yes/no)? yes</span><br><span class="line">Warning: Permanently added <span class="string">'192.168.200.109'</span> (ECDSA) to the list of known hosts.</span><br><span class="line"></span><br><span class="line">remote: Counting objects: 5, <span class="keyword">done</span>.</span><br><span class="line">remote: Compressing objects: 100% (4/4), <span class="keyword">done</span>.</span><br><span class="line">remote: Total 5 (delta 1), reused 5 (delta 1)</span><br><span class="line">Receiving objects: 100% (5/5), <span class="keyword">done</span>.</span><br><span class="line">Resolving deltas: 100% (1/1), <span class="keyword">done</span>.</span><br><span class="line">-sh-4.2$</span><br><span class="line">-sh-4.2$ ls -l</span><br><span class="line">total 0</span><br><span class="line">drwxr-xr-x 2 git git 26 Feb 23 22:49 gitosis</span><br><span class="line">drwxrwxr-x 4 git git 49 Feb 23 22:52 gitosis-admin</span><br><span class="line">drwxr-xr-x 3 git git 30 Feb 23 22:49 repositories</span><br><span class="line">-sh-4.2$ <span class="built_in">cd</span> gitosis-admin/</span><br><span class="line">-sh-4.2$ ls -l</span><br><span class="line">total 4</span><br><span class="line">-rw-rw-r-- 1 git git 97 Feb 23 22:52 gitosis.conf</span><br><span class="line">drwxrwxr-x 2 git git 44 Feb 23 22:52 keydir</span><br><span class="line">-sh-4.2$ cat gitosis.conf</span><br><span class="line">[gitosis]</span><br><span class="line"></span><br><span class="line">[group gitosis-admin]</span><br><span class="line">members = git@linux-node9.example.com</span><br><span class="line">writable = gitosis-admin</span><br></pre></td></tr></table></figure><h1 id="Gitosis管理"><a href="#Gitosis管理" class="headerlink" title="Gitosis管理"></a>Gitosis管理</h1><h2 id="用户管理"><a href="#用户管理" class="headerlink" title="用户管理"></a>用户管理</h2><h2 id="Git仓库管理"><a href="#Git仓库管理" class="headerlink" title="Git仓库管理"></a>Git仓库管理</h2><h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><p><a href="https://git-scm.com/book/zh/v1/%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8A%E7%9A%84-Git-Gitosis" target="_blank" rel="noopener">https://git-scm.com/book/zh/v1/%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8A%E7%9A%84-Git-Gitosis</a></p><p>======================================================<br>希望各位朋友支持一下</p><ul><li>领取我的<a href="https://promotion.aliyun.com/ntms/act/ambassador/sharetouser.html?userCode=xpdsz87p&amp;utm_source=xpdsz87p" target="_blank" rel="noopener">阿里云幸运券</a>,谢谢.</li><li>使用<a href="https://cloud.tencent.com/redirect.php?redirect=1005&amp;cps_key=5a162632de40024cd01aabff4d3f1370" target="_blank" rel="noopener">腾讯云资源</a></li><li>自己的网站承接广告<a href="http://www.sudianlm.com/track/c/?rid=2056" target="_blank" rel="noopener">速点广告联盟</a></li><li>广告位招商QQ:1455975151</li><li>喜欢购物的朋友可以看看，<a href="http://www.1zhe.com/yq/1066027" target="_blank" rel="noopener">一折特卖</a><!--注册一折特卖，免费领集分宝，集分宝可以当钱花，免费购物不是梦，注册马上送你10集分宝。--></li></ul><p><strong>本文作者</strong>：dongsheng<br><strong>本文地址</strong>： <a href="https://mds1455975151.github.io/archives/ad17686.html">https://mds1455975151.github.io/archives/ad17686.html</a> <br><strong>版权声明</strong>：转载请注明出处！</p>]]></content>
    
    <summary type="html">
    
      Gitosis
    
    </summary>
    
      <category term="Linux运维" scheme="https://mds1455975151.github.io/categories/Linux%E8%BF%90%E7%BB%B4/"/>
    
    
      <category term="Git" scheme="https://mds1455975151.github.io/tags/Git/"/>
    
      <category term="Gitosis" scheme="https://mds1455975151.github.io/tags/Gitosis/"/>
    
  </entry>
  
  <entry>
    <title>SSL配置汇总</title>
    <link href="https://mds1455975151.github.io/archives/a740e72c.html"/>
    <id>https://mds1455975151.github.io/archives/a740e72c.html</id>
    <published>2018-02-23T09:14:07.000Z</published>
    <updated>2018-02-23T09:14:13.080Z</updated>
    
    <content type="html"><![CDATA[<script src="\assets\js\APlayer.min.js"> </script><p>&gt;</p><a id="more"></a><p>======================================================<br>希望各位朋友支持一下</p><ul><li>领取我的<a href="https://promotion.aliyun.com/ntms/act/ambassador/sharetouser.html?userCode=xpdsz87p&amp;utm_source=xpdsz87p" target="_blank" rel="noopener">阿里云幸运券</a>,谢谢.</li><li>使用<a href="https://cloud.tencent.com/redirect.php?redirect=1005&amp;cps_key=5a162632de40024cd01aabff4d3f1370" target="_blank" rel="noopener">腾讯云资源</a></li><li>自己的网站承接广告<a href="http://www.sudianlm.com/track/c/?rid=2056" target="_blank" rel="noopener">速点广告联盟</a></li><li>广告位招商QQ:1455975151</li><li>喜欢购物的朋友可以看看，<a href="http://www.1zhe.com/yq/1066027" target="_blank" rel="noopener">一折特卖</a><!--注册一折特卖，免费领集分宝，集分宝可以当钱花，免费购物不是梦，注册马上送你10集分宝。--></li></ul><p><strong>本文作者</strong>：dongsheng<br><strong>本文地址</strong>： <a href="https://mds1455975151.github.io/archives/a740e72c.html">https://mds1455975151.github.io/archives/a740e72c.html</a> <br><strong>版权声明</strong>：转载请注明出处！</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;gt;&lt;/p&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Jenkins之Android多渠道打包实践</title>
    <link href="https://mds1455975151.github.io/archives/fdc5d0de.html"/>
    <id>https://mds1455975151.github.io/archives/fdc5d0de.html</id>
    <published>2018-02-23T07:21:27.000Z</published>
    <updated>2018-02-23T08:16:38.931Z</updated>
    
    <content type="html"><![CDATA[<script src="\assets\js\APlayer.min.js"> </script><blockquote><p>Jenkins之Android多渠道打包实践</p></blockquote><a id="more"></a><h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>多渠道主要目的是为了统计各个应用市场用户数据分析(比如活跃数，崩溃率等)，收集用户信息，这时需要唯一标识来区分这些渠道，本文主要针对多渠道(几百个渠道甚至更多的情况)如何快速打包?</p><h1 id="流程说明"><a href="#流程说明" class="headerlink" title="流程说明"></a>流程说明</h1><ul><li>Jenkins集成Gradle实现打包自动化</li><li>通过Jenkins参数化构建实现自定义环境和渠道打包，签名</li><li>测试包自动上传fir并通过钉钉发送通知</li><li>正式包按照版本归档大奥OSS，发布时拷贝到发布目录</li><li>自动刷新CDN</li></ul><h1 id="环境说明"><a href="#环境说明" class="headerlink" title="环境说明"></a>环境说明</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@linux-node9 ~]<span class="comment"># cat /etc/redhat-release</span></span><br><span class="line">CentOS Linux release 7.2.1511 (Core)</span><br><span class="line">[root@linux-node9 ~]<span class="comment"># uname -r</span></span><br><span class="line">3.10.0-327.el7.x86_64</span><br><span class="line">[root@linux-node9 ~]<span class="comment"># uname -m</span></span><br><span class="line">x86_64</span><br></pre></td></tr></table></figure><h1 id="安装JDK"><a href="#安装JDK" class="headerlink" title="安装JDK"></a>安装JDK</h1><p>openjdk比较精简，会出现各种奇葩问题，故切换到Oracle JDK版本<br><a href="http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html" target="_blank" rel="noopener">下载地址</a> 下载jdk-8u151-linux-x64.rpm<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># rpm -ivh jdk-8u151-linux-x64.rpm</span></span><br><span class="line"><span class="comment"># vim /etc/profile</span></span><br><span class="line"><span class="comment"># JAVA bin PATH setup</span></span><br><span class="line"><span class="built_in">export</span> JAVA_HOME=/usr/java/jdk1.8.0_151/</span><br><span class="line"><span class="built_in">export</span> CLASSPATH=.:<span class="variable">$JAVA_HOME</span>/jre/lib/rt.jar:<span class="variable">$JAVA_HOME</span>/lib/dt.jar:<span class="variable">$JAVA_HOME</span>/lib/tools.jar</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$PATH</span>:<span class="variable">$JAVA_HOME</span>/bin</span><br><span class="line"><span class="comment"># source /etc/profile</span></span><br><span class="line"><span class="comment"># java -version</span></span><br><span class="line">openjdk version <span class="string">"1.8.0_151"</span></span><br><span class="line">OpenJDK Runtime Environment (build 1.8.0_151-b12)</span><br><span class="line">OpenJDK 64-Bit Server VM (build 25.151-b12, mixed mode)</span><br></pre></td></tr></table></figure></p><h1 id="安装Jenkins"><a href="#安装Jenkins" class="headerlink" title="安装Jenkins"></a>安装Jenkins</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@linux-node9 ~]<span class="comment"># wget -O /etc/yum.repos.d/jenkins.repo https://pkg.jenkins.io/redhat-stable/jenkins.repo</span></span><br><span class="line">[root@linux-node9 ~]<span class="comment"># rpm --import https://pkg.jenkins.io/redhat-stable/jenkins.io.key</span></span><br><span class="line">[root@linux-node9 ~]<span class="comment"># yum install -y jenkins</span></span><br><span class="line">[root@linux-node9 ~]<span class="comment"># vim /etc/sysconfig/jenkins</span></span><br><span class="line">JENKINS_PORT=<span class="string">"9090"</span>   <span class="comment"># 修改启动端口，本机端口冲突可以考虑，默认8080</span></span><br><span class="line">[root@linux-node9 ~]<span class="comment"># /etc/init.d/jenkins start</span></span><br><span class="line">[root@linux-node9 ~]<span class="comment"># chkconfig jenkins on</span></span><br><span class="line">[root@linux-node9 ~]<span class="comment"># netstat -tunlp|grep java</span></span><br><span class="line">tcp6       0      0 :::9090                 :::*                    LISTEN      28491/java</span><br></pre></td></tr></table></figure><h1 id="安装Gradle"><a href="#安装Gradle" class="headerlink" title="安装Gradle"></a>安装Gradle</h1><h1 id="安装Android-SDK"><a href="#安装Android-SDK" class="headerlink" title="安装Android SDK"></a>安装Android SDK</h1><h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><p><a href="http://www.simlinux.com/2016/04/21/android-pack-deploy.html" target="_blank" rel="noopener">http://www.simlinux.com/2016/04/21/android-pack-deploy.html</a></p><p>======================================================<br>希望各位朋友支持一下</p><ul><li>领取我的<a href="https://promotion.aliyun.com/ntms/act/ambassador/sharetouser.html?userCode=xpdsz87p&amp;utm_source=xpdsz87p" target="_blank" rel="noopener">阿里云幸运券</a>,谢谢.</li><li>使用<a href="https://cloud.tencent.com/redirect.php?redirect=1005&amp;cps_key=5a162632de40024cd01aabff4d3f1370" target="_blank" rel="noopener">腾讯云资源</a></li><li>自己的网站承接广告<a href="http://www.sudianlm.com/track/c/?rid=2056" target="_blank" rel="noopener">速点广告联盟</a></li><li>广告位招商QQ:1455975151</li><li>喜欢购物的朋友可以看看，<a href="http://www.1zhe.com/yq/1066027" target="_blank" rel="noopener">一折特卖</a><!--注册一折特卖，免费领集分宝，集分宝可以当钱花，免费购物不是梦，注册马上送你10集分宝。--></li></ul><p><strong>本文作者</strong>：dongsheng<br><strong>本文地址</strong>： <a href="https://mds1455975151.github.io/archives/fdc5d0de.html">https://mds1455975151.github.io/archives/fdc5d0de.html</a> <br><strong>版权声明</strong>：转载请注明出处！</p>]]></content>
    
    <summary type="html">
    
      Jenkins之Android多渠道打包实践
    
    </summary>
    
      <category term="jenkins" scheme="https://mds1455975151.github.io/categories/jenkins/"/>
    
    
      <category term="jenkins" scheme="https://mds1455975151.github.io/tags/jenkins/"/>
    
      <category term="多渠道打包" scheme="https://mds1455975151.github.io/tags/%E5%A4%9A%E6%B8%A0%E9%81%93%E6%89%93%E5%8C%85/"/>
    
  </entry>
  
  <entry>
    <title>SSL证书格式详解及转换</title>
    <link href="https://mds1455975151.github.io/archives/4b72e495.html"/>
    <id>https://mds1455975151.github.io/archives/4b72e495.html</id>
    <published>2018-02-23T03:49:04.000Z</published>
    <updated>2018-02-23T08:29:28.323Z</updated>
    
    <content type="html"><![CDATA[<script src="\assets\js\APlayer.min.js"> </script><blockquote><p>SSL证书格式详解及转换</p></blockquote><a id="more"></a><h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>一般来说，主流的 Web 服务软件，通常都基于 OpenSSL 和 Java 两种基础密码库。</p><ul><li>Tomcat、Weblogic、JBoss 等 Web 服务软件，一般使用 Java 提供的密码库。通过 Java Development Kit （JDK）工具包中的 Keytool 工具，生成 Java Keystore（JKS）格式的证书文件。</li><li>Apache、Nginx 等 Web 服务软件，一般使用 OpenSSL 工具提供的密码库，生成 PEM、KEY、CRT 等格式的证书文件。</li><li>IBM 的 Web 服务产品，如 Websphere、IBM Http Server（IHS）等，一般使用 IBM 产品自带的 iKeyman 工具，生成 KDB 格式的证书文件。</li><li>微软 Windows Server 中的 Internet Information Services（IIS）服务，使用 Windows 自带的证书库生成 PFX 格式的证书文件。</li></ul><h1 id="判断证书格式"><a href="#判断证书格式" class="headerlink" title="判断证书格式"></a>判断证书格式</h1><p>证书格式一般分为文本格式和二进制格式两种</p><ul><li><em>.DER 或 </em>.CER 文件： 这样的证书文件是二进制格式，只含有证书信息，不包含私钥。</li><li><em>.CRT 文件：这样的证书文件可以是二进制格式，也可以是文本格式，一般均为文本格式，功能与 </em>.DER 及 *.CER 证书文件相同。</li><li><em>.PEM 文件：这样的证书文件一般是文本格式，可以存放证书或私钥，或者两者都包含。 </em>.PEM 文件如果只包含私钥，一般用 *.KEY 文件代替。</li><li><em>.PFX 或 </em>.P12 文件： 这样的证书文件是二进制格式，同时包含证书和私钥，且一般有密码保护。</li></ul><p>也可以使用记事本直接打开证书文件。如果显示的是规则的数字字母，例如：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">—–BEGIN CERTIFICATE—–</span><br><span class="line">MIIE5zCCA8+gAwIBAgIQN+whYc2BgzAogau0dc3PtzANBgkqh......</span><br><span class="line">—–END CERTIFICATE—–</span><br></pre></td></tr></table></figure></p><p>那么，该证书文件是文本格式的。</p><ul><li>如果存在——BEGIN CERTIFICATE——，则说明这是一个证书文件。</li><li>如果存在—–BEGIN RSA PRIVATE KEY—–，则说明这是一个私钥文件。</li></ul><h1 id="证书格式转换"><a href="#证书格式转换" class="headerlink" title="证书格式转换"></a>证书格式转换</h1><p><img src="/archives/4b72e495/ssl证书格式.jpg" alt=""><br>可使用以下方式实现证书格式之间的转换：</p><ol><li><p>将JKS格式证书转换成PFX格式<br>使用 JDK 中自带的 Keytool 工具，将 JKS 格式证书文件转换成 PFX 格式。<br>例如，可以执行以下命令将 server.jks 证书文件转换成 server.pfx 证书文件：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">keytool -importkeystore -srckeystore D:\server.jks -destkeystore D:\server.pfx -srcstoretype JKS -deststoretype PKCS12</span><br></pre></td></tr></table></figure></li><li><p>将 PFX 格式证书转换为 JKS 格式<br>使用 JDK 中自带的 Keytool 工具，将 PFX 格式证书文件转换成 JKS 格式。<br>例如，可以执行以下命令将 server.pfx 证书文件转换成 server.jks 证书文件：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">keytool -importkeystore -srckeystore D:\server.pfx -destkeystore D:\server.jks -srcstoretype PKCS12 -deststoretype JKS</span><br></pre></td></tr></table></figure></li><li><p>将 PEM/KEY/CRT 格式证书转换为 PFX 格式<br>可以使用 OpenSSL工具，将 KEY 格式密钥文件和 CRT 格式公钥文件转换成 PFX 格式证书文件。<br>例如，将 KEY 格式密钥文件（server.key）和 CRT 格式公钥文件（server.crt）拷贝至 OpenSSL 工具安装目录，使用 OpenSSL 工具执行以下命令将证书转换成 server.pfx证书文件：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">openssl pkcs12 -<span class="built_in">export</span> -out server.pfx -inkey server.key -<span class="keyword">in</span> server.crt</span><br></pre></td></tr></table></figure></li><li><p>将PFX转换为PEM/KEY/CRT<br>可以使用OpenSSL工具，将PFX格式证书文件转化为KEY格式密钥文件和CRT格式公钥文件。<br>例如，将PFX格式证书文件拷贝至OpenSSL安装目录，使用OpenSSL工具执行以下命令将证书转换成 server.pem 证书文件、KEY 格式密钥文件（server.key）和 CRT 格式公钥文件（server.crt）：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">openssl pkcs12 -<span class="keyword">in</span> server.pfx -nodes -out server.pem</span><br><span class="line">openssl rsa -<span class="keyword">in</span> server.pem -out server.key</span><br><span class="line">openssl x509 -<span class="keyword">in</span> server.pem -out server.crt</span><br></pre></td></tr></table></figure></li></ol><p>此转换步骤是专用于通过Keytool工具生成私钥和CSR申请证书文件的，并且通过此方法可以在获取到 PEM 格式证书公钥的情况下分离私钥。在实际部署数字证书时，请使用通过此转换步骤分离出来的私钥和申请得到的公钥证书匹配进行部署。</p><p>======================================================<br>希望各位朋友支持一下</p><ul><li>领取我的<a href="https://promotion.aliyun.com/ntms/act/ambassador/sharetouser.html?userCode=xpdsz87p&amp;utm_source=xpdsz87p" target="_blank" rel="noopener">阿里云幸运券</a>,谢谢.</li><li>使用<a href="https://cloud.tencent.com/redirect.php?redirect=1005&amp;cps_key=5a162632de40024cd01aabff4d3f1370" target="_blank" rel="noopener">腾讯云资源</a></li><li>自己的网站承接广告<a href="http://www.sudianlm.com/track/c/?rid=2056" target="_blank" rel="noopener">速点广告联盟</a></li><li>广告位招商QQ:1455975151</li><li>喜欢购物的朋友可以看看，<a href="http://www.1zhe.com/yq/1066027" target="_blank" rel="noopener">一折特卖</a><!--注册一折特卖，免费领集分宝，集分宝可以当钱花，免费购物不是梦，注册马上送你10集分宝。--></li></ul><p><strong>本文作者</strong>：dongsheng<br><strong>本文地址</strong>： <a href="https://mds1455975151.github.io/archives/4b72e495.html">https://mds1455975151.github.io/archives/4b72e495.html</a> <br><strong>版权声明</strong>：转载请注明出处！</p>]]></content>
    
    <summary type="html">
    
      SSL证书格式详解及转换
    
    </summary>
    
      <category term="Linux运维" scheme="https://mds1455975151.github.io/categories/Linux%E8%BF%90%E7%BB%B4/"/>
    
    
      <category term="SSL证书" scheme="https://mds1455975151.github.io/tags/SSL%E8%AF%81%E4%B9%A6/"/>
    
  </entry>
  
  <entry>
    <title>Linux之设置大批量服务器使用key登录验证方式实践方案</title>
    <link href="https://mds1455975151.github.io/archives/94454339.html"/>
    <id>https://mds1455975151.github.io/archives/94454339.html</id>
    <published>2018-02-22T07:09:31.000Z</published>
    <updated>2018-02-23T08:44:02.812Z</updated>
    
    <content type="html"><![CDATA[<script src="\assets\js\APlayer.min.js"> </script><blockquote><p>设置大批量服务器使用key登录验证方式实践方案</p></blockquote><a id="more"></a><h1 id="密钥生成"><a href="#密钥生成" class="headerlink" title="密钥生成"></a>密钥生成</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># cat add_user_sshkey.sh</span></span><br><span class="line"><span class="meta">#!/bin/env bash</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ ! <span class="variable">$#</span> -eq 1 ]</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">"Usages: <span class="variable">$0</span> username"</span></span><br><span class="line">    <span class="built_in">exit</span> 1</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line">username=<span class="variable">$1</span></span><br><span class="line">rm -f <span class="variable">$&#123;username&#125;</span> <span class="variable">$&#123;username&#125;</span>.pub</span><br><span class="line">ssh-keygen -t rsa -N <span class="string">''</span> -C <span class="variable">$&#123;username&#125;</span>@kaixin-inc.com -f <span class="variable">$&#123;username&#125;</span>&gt;useradd.log</span><br><span class="line">rsa_hash=`grep <span class="variable">$&#123;username&#125;</span> useradd.log |grep -v Your|awk <span class="string">'&#123;print $1&#125;'</span>`</span><br><span class="line"><span class="built_in">echo</span> <span class="string">"<span class="variable">$&#123;username&#125;</span> `date +%Y.%m.%d\ %H:%M:%S` <span class="variable">$&#123;rsa_hash&#125;</span>"</span> &gt;&gt;useradd.list</span><br><span class="line">rm -f useradd.log</span><br><span class="line"><span class="keyword">if</span> [ -f authorized_keys ]</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">    sed -i <span class="string">"/<span class="variable">$&#123;username&#125;</span>/d"</span> authorized_keys</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line">cat <span class="variable">$&#123;username&#125;</span>.pub&gt;&gt;authorized_keys</span><br><span class="line">rm -f <span class="variable">$&#123;username&#125;</span>_sshkey_file.tar.gz</span><br><span class="line">tar -zcf <span class="variable">$&#123;username&#125;</span>_sshkey_file.tar.gz <span class="variable">$&#123;username&#125;</span>*</span><br><span class="line">mkdir -p sshkey_file</span><br><span class="line">mv <span class="variable">$&#123;username&#125;</span>_sshkey_file.tar.gz sshkey_file</span><br><span class="line">rm -f <span class="variable">$&#123;username&#125;</span>_sshkey_file.tar.gz</span><br><span class="line">rm -f <span class="variable">$&#123;username&#125;</span> <span class="variable">$&#123;username&#125;</span>.pub</span><br><span class="line">[root@linux-node9 ~]<span class="comment"># ls -al sshkey_file/</span></span><br><span class="line">total 12</span><br><span class="line">drwxr-xr-x   2 root root   73 Feb 21 08:19 .</span><br><span class="line">dr-xr-x---. 12 root root 4096 Feb 21 08:31 ..</span><br><span class="line">-rw-r--r--   1 root root 1749 Feb 21 08:14 xxx_sshkey_file.tar.gz</span><br><span class="line">-rw-r--r--   1 root root 1753 Feb 21 08:19 yyy_sshkey_file.tar.gz</span><br></pre></td></tr></table></figure><blockquote><p>将生成后的sshkey发送给用户即可</p></blockquote><h1 id="密钥推送"><a href="#密钥推送" class="headerlink" title="密钥推送"></a>密钥推送</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">[root@linux-node9 ~]<span class="comment"># yum install -y ansible</span></span><br><span class="line">[root@linux-node9 ~]<span class="comment"># cat rsync_sshkey_file.yml</span></span><br><span class="line">---</span><br><span class="line">- hosts: all</span><br><span class="line">  remote_user: root</span><br><span class="line">  tasks:</span><br><span class="line">  - name: copy authorized_keys to remote tmp dir</span><br><span class="line">    copy: src=/root/authorized_keys dest=/tmp/authorized_keys owner=root group=root mode=0600</span><br><span class="line"></span><br><span class="line">  - name: del user key on remote host</span><br><span class="line">    shell: cat /tmp/authorized_keys|<span class="keyword">while</span> <span class="built_in">read</span> line;<span class="keyword">do</span> sed -i <span class="string">"#<span class="variable">$line</span>#d"</span> /tmp/authorized_keys;<span class="keyword">done</span></span><br><span class="line"></span><br><span class="line">  - name: add user key to remote host authorized_keys</span><br><span class="line">    shell: cat /tmp/authorized_keys &gt;&gt;~/.ssh/authorized_keys</span><br><span class="line"></span><br><span class="line">  - name: del tmp authorized_keys</span><br><span class="line">    file: path=/tmp/authorized_keys state=absent</span><br><span class="line">[root@linux-node9 ~]<span class="comment"># ansible-playbook rsync_sshkey_file.yml</span></span><br><span class="line"></span><br><span class="line">PLAY [all] *******************************************************************************************************************************************************************</span><br><span class="line"></span><br><span class="line">TASK [Gathering Facts] *******************************************************************************************************************************************************</span><br><span class="line">ok: [127.0.0.1]</span><br><span class="line"></span><br><span class="line">TASK [copy authorized_keys to remote tmp dir] ********************************************************************************************************************************</span><br><span class="line">changed: [127.0.0.1]</span><br><span class="line"></span><br><span class="line">TASK [del user key on remote host] *******************************************************************************************************************************************</span><br><span class="line">changed: [127.0.0.1]</span><br><span class="line"></span><br><span class="line">TASK [add user key to remote host authorized_keys] ***************************************************************************************************************************</span><br><span class="line">changed: [127.0.0.1]</span><br><span class="line"></span><br><span class="line">TASK [del tmp authorized_keys] ***********************************************************************************************************************************************</span><br><span class="line">changed: [127.0.0.1]</span><br><span class="line"></span><br><span class="line">PLAY RECAP *******************************************************************************************************************************************************************</span><br><span class="line">127.0.0.1                  : ok=5    changed=4    unreachable=0    failed=0</span><br></pre></td></tr></table></figure><blockquote><p>1、管理主机通过ansible分发密钥对，前提条件管理主机到所有被管理主机已经建立ssh互信关系，这块可以在服务器申请或者初始化初期就完成</p></blockquote><h1 id="FQA"><a href="#FQA" class="headerlink" title="FQA"></a>FQA</h1><p>1、如何控制密钥分发的主机组，用户可能没有权限登录所有主机？<br>解答：结合CDMB或者其他权限系统，生成临时的密钥分发组，ansible-playbook指定组进行密钥分发<br>2、非ansible管理的ssh互信关系会被破坏,如何解决？<br>解答：在playbook做处理，先删除要添加的key，在追加，防止重复添加</p><p>======================================================<br>希望各位朋友支持一下</p><ul><li>领取我的<a href="https://promotion.aliyun.com/ntms/act/ambassador/sharetouser.html?userCode=xpdsz87p&amp;utm_source=xpdsz87p" target="_blank" rel="noopener">阿里云幸运券</a>,谢谢.</li><li>使用<a href="https://cloud.tencent.com/redirect.php?redirect=1005&amp;cps_key=5a162632de40024cd01aabff4d3f1370" target="_blank" rel="noopener">腾讯云资源</a></li><li>自己的网站承接广告<a href="http://www.sudianlm.com/track/c/?rid=2056" target="_blank" rel="noopener">速点广告联盟</a></li><li>广告位招商QQ:1455975151</li><li>喜欢购物的朋友可以看看，<a href="http://www.1zhe.com/yq/1066027" target="_blank" rel="noopener">一折特卖</a><!--注册一折特卖，免费领集分宝，集分宝可以当钱花，免费购物不是梦，注册马上送你10集分宝。--></li></ul><p><strong>本文作者</strong>：dongsheng<br><strong>本文地址</strong>： <a href="https://mds1455975151.github.io/archives/94454339.html">https://mds1455975151.github.io/archives/94454339.html</a> <br><strong>版权声明</strong>：转载请注明出处！</p>]]></content>
    
    <summary type="html">
    
      设置大批量服务器使用key登录验证方式实践方案
    
    </summary>
    
      <category term="Linux运维" scheme="https://mds1455975151.github.io/categories/Linux%E8%BF%90%E7%BB%B4/"/>
    
    
      <category term="key登录验证" scheme="https://mds1455975151.github.io/tags/key%E7%99%BB%E5%BD%95%E9%AA%8C%E8%AF%81/"/>
    
  </entry>
  
  <entry>
    <title>Nexus之Nexus3尝鲜</title>
    <link href="https://mds1455975151.github.io/archives/5f9114b.html"/>
    <id>https://mds1455975151.github.io/archives/5f9114b.html</id>
    <published>2018-02-21T12:40:30.000Z</published>
    <updated>2018-02-23T08:44:51.308Z</updated>
    
    <content type="html"><![CDATA[<script src="\assets\js\APlayer.min.js"> </script><blockquote><p>Nexus3尝鲜</p></blockquote><a id="more"></a><h1 id="Nexus简介"><a href="#Nexus简介" class="headerlink" title="Nexus简介"></a>Nexus简介</h1><p><a href="https://www.sonatype.com/" target="_blank" rel="noopener">官网地址</a><br><a href="https://help.sonatype.com/" target="_blank" rel="noopener">官网帮助文档</a></p><h1 id="Nexus2和Nexus3支持formats差别"><a href="#Nexus2和Nexus3支持formats差别" class="headerlink" title="Nexus2和Nexus3支持formats差别"></a>Nexus2和Nexus3支持formats差别</h1><p><img src="/archives/5f9114b/02.png" alt=""><br><img src="/archives/5f9114b/01.png" alt=""></p><h1 id="安装JDK"><a href="#安装JDK" class="headerlink" title="安装JDK"></a>安装JDK</h1><p>openjdk比较精简，会出现各种奇葩问题，故使用Oracle JDK版本<br><a href="http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html" target="_blank" rel="noopener">下载地址</a> 下载jdk-8u151-linux-x64.rpm<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># rpm -ivh jdk-8u151-linux-x64.rpm</span></span><br><span class="line"><span class="comment"># vim /etc/profile</span></span><br><span class="line"><span class="comment"># JAVA bin PATH setup</span></span><br><span class="line"><span class="built_in">export</span> JAVA_HOME=/usr/java/jdk1.8.0_151/</span><br><span class="line"><span class="built_in">export</span> CLASSPATH=.:<span class="variable">$JAVA_HOME</span>/jre/lib/rt.jar:<span class="variable">$JAVA_HOME</span>/lib/dt.jar:<span class="variable">$JAVA_HOME</span>/lib/tools.jar</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$PATH</span>:<span class="variable">$JAVA_HOME</span>/bin</span><br><span class="line"><span class="comment"># source /etc/profile</span></span><br><span class="line"><span class="comment"># java -version</span></span><br><span class="line">openjdk version <span class="string">"1.8.0_151"</span></span><br><span class="line">OpenJDK Runtime Environment (build 1.8.0_151-b12)</span><br><span class="line">OpenJDK 64-Bit Server VM (build 25.151-b12, mixed mode)</span><br></pre></td></tr></table></figure></p><h1 id="安装Maven"><a href="#安装Maven" class="headerlink" title="安装Maven"></a>安装Maven</h1><p><a href="http://maven.apache.org/download.cgi" target="_blank" rel="noopener">下载地址</a>下载apache-maven-3.5.2-bin.tar.gz<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># wget http://mirrors.hust.edu.cn/apache/maven/maven-3/3.5.2/binaries/apache-maven-3.5.2-bin.tar.gz</span></span><br><span class="line"><span class="comment"># tar -zxf apache-maven-3.5.2-bin.tar.gz</span></span><br><span class="line"><span class="comment"># mv apache-maven-3.5.2</span></span><br><span class="line"><span class="comment"># mv apache-maven-3.5.2 /usr/local/</span></span><br><span class="line"><span class="comment"># ln -s apache-maven-3.5.2/ maven</span></span><br><span class="line"><span class="comment"># vim /etc/profile</span></span><br><span class="line"><span class="built_in">export</span> M2_HOME=/usr/<span class="built_in">local</span>/maven</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$PATH</span>:<span class="variable">$M2_HOME</span>/bin</span><br><span class="line"><span class="comment"># source /etc/profile</span></span><br><span class="line"><span class="comment"># mvn -version</span></span><br><span class="line">Apache Maven 3.5.2 (138edd61fd100ec658bfa2d307c43b76940a5d7d; 2017-10-18T03:58:13-04:00)</span><br><span class="line">Maven home: /usr/<span class="built_in">local</span>/maven</span><br><span class="line">Java version: 1.8.0_151, vendor: Oracle Corporation</span><br><span class="line">Java home: /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.151-5.b12.el7_4.x86_64/jre</span><br><span class="line">Default locale: en_US, platform encoding: UTF-8</span><br><span class="line">OS name: <span class="string">"linux"</span>, version: <span class="string">"3.10.0-327.el7.x86_64"</span>, arch: <span class="string">"amd64"</span>, family: <span class="string">"unix"</span></span><br></pre></td></tr></table></figure></p><h1 id="安装Nexus"><a href="#安装Nexus" class="headerlink" title="安装Nexus"></a>安装Nexus</h1><p><a href="http://www.sonatype.org/nexus/archived/?id=38" target="_blank" rel="noopener">下载地址</a> 下载版本nexus-3.8.0-02-unix.tar.gz<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># wget https://sonatype-download.global.ssl.fastly.net/nexus/3/nexus-3.8.0-02-unix.tar.gz</span></span><br><span class="line"><span class="comment"># tar -zxf nexus-3.8.0-02-unix.tar.gz</span></span><br><span class="line"><span class="comment"># cp -r nexus-3.8.0-02 /usr/local/</span></span><br><span class="line"><span class="comment"># cd /usr/local/</span></span><br><span class="line"><span class="comment"># ln -s nexus-3.8.0-02/ nexus</span></span><br><span class="line"><span class="comment"># cd /usr/local/nexus/bin/</span></span><br><span class="line"><span class="comment"># ./nexus start</span></span><br><span class="line">WARNING: ************************************************************</span><br><span class="line">WARNING: Detected execution as <span class="string">"root"</span> user.  This is NOT recommended!</span><br><span class="line">WARNING: ************************************************************</span><br><span class="line">Starting nexus</span><br><span class="line"><span class="comment"># netstat -tunlp|grep 8081</span></span><br><span class="line">tcp        0      0 0.0.0.0:8081            0.0.0.0:*               LISTEN      21544/java</span><br></pre></td></tr></table></figure></p><h2 id="Run-as-a-Service"><a href="#Run-as-a-Service" class="headerlink" title="Run as a Service"></a>Run as a Service</h2><p>将nexus设置为Linux系统的服务，并开机自动启动,请<a href="https://help.sonatype.com/display/NXRM3/Run+as+a+Service" target="_blank" rel="noopener">点击</a></p><h2 id="Run-Behind-a-Reverse-Proxy"><a href="#Run-Behind-a-Reverse-Proxy" class="headerlink" title="Run Behind a Reverse Proxy"></a>Run Behind a Reverse Proxy</h2><p>请<a href="https://help.sonatype.com/display/NXRM3/Run+Behind+a+Reverse+Proxy" target="_blank" rel="noopener">点击</a></p><p>配置完成后，您可以访问web界面 <a href="http://{IP}:8081/nexus/" target="_blank" rel="noopener">http://{IP}:8081/nexus/</a> ，进入系统进行设置<br>默认管理账号：admin 密码：admin123<br><img src="/archives/5f9114b/03.png" alt=""></p><p>修复文件描述符问题<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">[root@linux-node9 nexus]<span class="comment"># vim /etc/security/limits.conf</span></span><br><span class="line">@root - nofile 65536</span><br><span class="line">[root@linux-node9 ~]<span class="comment"># ulimit -a</span></span><br><span class="line">core file size          (blocks, -c) 0</span><br><span class="line">data seg size           (kbytes, -d) unlimited</span><br><span class="line">scheduling priority             (-e) 0</span><br><span class="line">file size               (blocks, -f) unlimited</span><br><span class="line">pending signals                 (-i) 15062</span><br><span class="line">max locked memory       (kbytes, -l) 64</span><br><span class="line">max memory size         (kbytes, -m) unlimited</span><br><span class="line">open files                      (-n) 65536</span><br><span class="line">pipe size            (512 bytes, -p) 8</span><br><span class="line">POSIX message queues     (bytes, -q) 819200</span><br><span class="line">real-time priority              (-r) 0</span><br><span class="line">stack size              (kbytes, -s) 8192</span><br><span class="line">cpu time               (seconds, -t) unlimited</span><br><span class="line">max user processes              (-u) 15062</span><br><span class="line">virtual memory          (kbytes, -v) unlimited</span><br><span class="line">file locks                      (-x) unlimited</span><br><span class="line">[root@linux-node9 ~]<span class="comment"># /usr/local/nexus/bin/nexus restart</span></span><br><span class="line">WARNING: ************************************************************</span><br><span class="line">WARNING: Detected execution as <span class="string">"root"</span> user.  This is NOT recommended!</span><br><span class="line">WARNING: ************************************************************</span><br><span class="line">Shutting down nexus</span><br><span class="line">Stopped.</span><br><span class="line">Restarting nexus</span><br></pre></td></tr></table></figure></p><h1 id="Nexus管理"><a href="#Nexus管理" class="headerlink" title="Nexus管理"></a>Nexus管理</h1><h2 id="Proxying-Maven-and-NPM"><a href="#Proxying-Maven-and-NPM" class="headerlink" title="Proxying Maven and NPM"></a>Proxying Maven and NPM</h2><p>参考资料：<a href="https://help.sonatype.com/display/NXRM3/Quick+Start+Guide+-+Proxying+Maven+and+NPM" target="_blank" rel="noopener">https://help.sonatype.com/display/NXRM3/Quick+Start+Guide+-+Proxying+Maven+and+NPM</a><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># npm init    # 初始化一个package.json文件</span></span><br></pre></td></tr></table></figure></p><h2 id="High-Availability-Introduction"><a href="#High-Availability-Introduction" class="headerlink" title="High Availability - Introduction"></a>High Availability - Introduction</h2><p>参考资料：<a href="https://help.sonatype.com/display/NXRM3/High+Availability+-+Introduction" target="_blank" rel="noopener">https://help.sonatype.com/display/NXRM3/High+Availability+-+Introduction</a><br><img src="/archives/5f9114b/04.png" alt=""></p><h2 id="Backup-and-Restore"><a href="#Backup-and-Restore" class="headerlink" title="Backup and Restore"></a>Backup and Restore</h2><p>参考资料：<a href="https://help.sonatype.com/display/NXRM3/Configure+and+Run+the+Backup+Task" target="_blank" rel="noopener">https://help.sonatype.com/display/NXRM3/Configure+and+Run+the+Backup+Task</a></p><h2 id="Maven-Repositories"><a href="#Maven-Repositories" class="headerlink" title="Maven Repositories"></a>Maven Repositories</h2><p>参考资料：<a href="https://help.sonatype.com/display/NXRM3/Maven+Repositories" target="_blank" rel="noopener">https://help.sonatype.com/display/NXRM3/Maven+Repositories</a></p><h2 id="Private-Registry-for-Docker"><a href="#Private-Registry-for-Docker" class="headerlink" title="Private Registry for Docker"></a>Private Registry for Docker</h2><p>参考资料：<a href="https://help.sonatype.com/display/NXRM3/Private+Registry+for+Docker" target="_blank" rel="noopener">https://help.sonatype.com/display/NXRM3/Private+Registry+for+Docker</a></p><h2 id="Security"><a href="#Security" class="headerlink" title="Security"></a>Security</h2><h3 id="Realms"><a href="#Realms" class="headerlink" title="Realms"></a>Realms</h3><h3 id="Privileges"><a href="#Privileges" class="headerlink" title="Privileges"></a>Privileges</h3><h3 id="Roles"><a href="#Roles" class="headerlink" title="Roles"></a>Roles</h3><h3 id="Users"><a href="#Users" class="headerlink" title="Users"></a>Users</h3><h3 id="Anonymous-Access"><a href="#Anonymous-Access" class="headerlink" title="Anonymous Access"></a>Anonymous Access</h3><h3 id="LDAP"><a href="#LDAP" class="headerlink" title="LDAP"></a>LDAP</h3><h3 id="Security-Setup-with-User-Tokens"><a href="#Security-Setup-with-User-Tokens" class="headerlink" title="Security Setup with User Tokens"></a>Security Setup with User Tokens</h3><h3 id="Authentication-via-Remote-User-Token"><a href="#Authentication-via-Remote-User-Token" class="headerlink" title="Authentication via Remote User Token"></a>Authentication via Remote User Token</h3><h3 id="Configuring-SSL"><a href="#Configuring-SSL" class="headerlink" title="Configuring SSL"></a>Configuring SSL</h3><ul><li>Outbound SSL - Trusting SSL Certificates of Remote Repositories</li><li>Outbound SSL - Trusting SSL Certificates Globally</li><li>Outbound SSL - Trusting SSL Certificates Using Keytool</li><li>Inbound SSL - Configuring to Serve Content via HTTPS<ul><li>Using A Reverse Proxy Server</li><li>Serving SSL Directly</li><li>How to Enable the HTTPS Connector</li><li>How to Redirect All Plain HTTP Requests to HTTPS</li><li>How to Disable the HTTP Connector<blockquote><p>重点：掌握Inbound SSL配置方法</p></blockquote></li></ul></li></ul><h3 id="Auditing"><a href="#Auditing" class="headerlink" title="Auditing"></a>Auditing</h3><h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><p><a href="https://www.sonatype.com/" target="_blank" rel="noopener">https://www.sonatype.com/</a></p><p>======================================================<br>希望各位朋友支持一下</p><ul><li>领取我的<a href="https://promotion.aliyun.com/ntms/act/ambassador/sharetouser.html?userCode=xpdsz87p&amp;utm_source=xpdsz87p" target="_blank" rel="noopener">阿里云幸运券</a>,谢谢.</li><li>使用<a href="https://cloud.tencent.com/redirect.php?redirect=1005&amp;cps_key=5a162632de40024cd01aabff4d3f1370" target="_blank" rel="noopener">腾讯云资源</a></li><li>自己的网站承接广告<a href="http://www.sudianlm.com/track/c/?rid=2056" target="_blank" rel="noopener">速点广告联盟</a></li><li>广告位招商QQ:1455975151</li><li>喜欢购物的朋友可以看看，<a href="http://www.1zhe.com/yq/1066027" target="_blank" rel="noopener">一折特卖</a><!--注册一折特卖，免费领集分宝，集分宝可以当钱花，免费购物不是梦，注册马上送你10集分宝。--></li></ul><p><strong>本文作者</strong>：dongsheng<br><strong>本文地址</strong>： <a href="https://mds1455975151.github.io/archives/5f9114b.html">https://mds1455975151.github.io/archives/5f9114b.html</a> <br><strong>版权声明</strong>：转载请注明出处！</p>]]></content>
    
    <summary type="html">
    
      Nexus3尝鲜
    
    </summary>
    
      <category term="Linux运维" scheme="https://mds1455975151.github.io/categories/Linux%E8%BF%90%E7%BB%B4/"/>
    
    
      <category term="Nexus" scheme="https://mds1455975151.github.io/tags/Nexus/"/>
    
      <category term="Nexus3" scheme="https://mds1455975151.github.io/tags/Nexus3/"/>
    
  </entry>
  
  <entry>
    <title>Jenkins之更新jenkins主题</title>
    <link href="https://mds1455975151.github.io/archives/e27d072c.html"/>
    <id>https://mds1455975151.github.io/archives/e27d072c.html</id>
    <published>2018-02-21T08:00:09.000Z</published>
    <updated>2018-02-21T08:21:14.918Z</updated>
    
    <content type="html"><![CDATA[<script src="\assets\js\APlayer.min.js"> </script><blockquote><p>本文介绍如何定制jenkins主题</p></blockquote><a id="more"></a><h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>如何定制jenkins主题，使jenkins更美观，富有个性。</p><h1 id="安装插件"><a href="#安装插件" class="headerlink" title="安装插件"></a>安装插件</h1><p>系统管理 —&gt; 插件管理 —&gt; 安装插件Simple Theme</p><h1 id="配置jenkins"><a href="#配置jenkins" class="headerlink" title="配置jenkins"></a>配置jenkins</h1><p>Some ready-made themes can be found on GitHub, these can also serve as examples for fully customizing the Jenkins appearance:</p><ul><li>“Atlassian”</li><li>Doony</li><li>Isotope11</li><li>Material</li><li>Neo2</li><li>Rackspace Canon</li><li>and probably several more… (feel free to add)</li></ul><h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><p><a href="https://plugins.jenkins.io/simple-theme-plugin" target="_blank" rel="noopener">simple-theme-plugin</a></p><p>======================================================<br>希望各位朋友支持一下</p><ul><li>领取我的<a href="https://promotion.aliyun.com/ntms/act/ambassador/sharetouser.html?userCode=xpdsz87p&amp;utm_source=xpdsz87p" target="_blank" rel="noopener">阿里云幸运券</a>,谢谢.</li><li>使用<a href="https://cloud.tencent.com/redirect.php?redirect=1005&amp;cps_key=5a162632de40024cd01aabff4d3f1370" target="_blank" rel="noopener">腾讯云资源</a></li><li>自己的网站承接广告<a href="http://www.sudianlm.com/track/c/?rid=2056" target="_blank" rel="noopener">速点广告联盟</a></li><li>广告位招商QQ:1455975151</li><li>喜欢购物的朋友可以看看，<a href="http://www.1zhe.com/yq/1066027" target="_blank" rel="noopener">一折特卖</a><!--注册一折特卖，免费领集分宝，集分宝可以当钱花，免费购物不是梦，注册马上送你10集分宝。--></li></ul><p><strong>本文作者</strong>：dongsheng<br><strong>本文地址</strong>： <a href="https://mds1455975151.github.io/archives/e27d072c.html">https://mds1455975151.github.io/archives/e27d072c.html</a> <br><strong>版权声明</strong>：转载请注明出处！</p>]]></content>
    
    <summary type="html">
    
      如何定制jenkins主题？
    
    </summary>
    
      <category term="jenkins" scheme="https://mds1455975151.github.io/categories/jenkins/"/>
    
    
      <category term="jenkins" scheme="https://mds1455975151.github.io/tags/jenkins/"/>
    
      <category term="simple-theme-plugin" scheme="https://mds1455975151.github.io/tags/simple-theme-plugin/"/>
    
      <category term="Simple Theme" scheme="https://mds1455975151.github.io/tags/Simple-Theme/"/>
    
  </entry>
  
  <entry>
    <title>Jenkins之多JDK版本配置及使用</title>
    <link href="https://mds1455975151.github.io/archives/4183e6f8.html"/>
    <id>https://mds1455975151.github.io/archives/4183e6f8.html</id>
    <published>2018-02-21T06:24:02.000Z</published>
    <updated>2018-02-21T07:50:51.986Z</updated>
    
    <content type="html"><![CDATA[<script src="\assets\js\APlayer.min.js"> </script><blockquote><p>介绍Jenkins如何支持多JDK版本配置及最佳实践</p></blockquote><a id="more"></a><h1 id="适用场景"><a href="#适用场景" class="headerlink" title="适用场景"></a>适用场景</h1><p>1、多个项目JDK版本需求不同，如何兼容多项目需求(最佳实践统一JDK版本)？<br>2、项目原因从低版本JDK迁移到高版本，避免切换多个jenkins实例。</p><h1 id="部署实践"><a href="#部署实践" class="headerlink" title="部署实践"></a>部署实践</h1><h2 id="环境说明"><a href="#环境说明" class="headerlink" title="环境说明"></a>环境说明</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@linux-node9 ~]<span class="comment"># cat /etc/redhat-release</span></span><br><span class="line">CentOS Linux release 7.2.1511 (Core)</span><br><span class="line">[root@linux-node9 ~]<span class="comment"># uname -r</span></span><br><span class="line">3.10.0-327.el7.x86_64</span><br><span class="line">[root@linux-node9 ~]<span class="comment"># uname -m</span></span><br><span class="line">x86_64</span><br></pre></td></tr></table></figure><h2 id="JDK配置"><a href="#JDK配置" class="headerlink" title="JDK配置"></a>JDK配置</h2><p>JDK8<a href="http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html" target="_blank" rel="noopener">下载地址</a>,下载jdk-8u161-linux-x64.rpm<br>JDK9<a href="http://www.oracle.com/technetwork/java/javase/downloads/jdk9-downloads-3848520.html" target="_blank" rel="noopener">下载地址</a>,下载jdk-9.0.4_linux-x64_bin.rpm<br><strong>JDK8安装</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@linux-node8 ~]<span class="comment"># rpm -ivh jdk-8u161-linux-x64.rpm</span></span><br><span class="line">[root@linux-node8 ~]<span class="comment"># vim /etc/profile</span></span><br><span class="line"><span class="comment"># JAVA bin PATH setup</span></span><br><span class="line"><span class="built_in">export</span> JAVA_HOME=/usr/java/jdk1.8.0_161/</span><br><span class="line"><span class="built_in">export</span> CLASSPATH=.:<span class="variable">$JAVA_HOME</span>/jre/lib/rt.jar:<span class="variable">$JAVA_HOME</span>/lib/dt.jar:<span class="variable">$JAVA_HOME</span>/lib/tools.jar</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$PATH</span>:<span class="variable">$JAVA_HOME</span>/bin</span><br><span class="line">[root@linux-node8 ~]<span class="comment"># java -version</span></span><br><span class="line">java version <span class="string">"1.8.0_161"</span></span><br><span class="line">Java(TM) SE Runtime Environment (build 1.8.0_161-b12)</span><br><span class="line">Java HotSpot(TM) 64-Bit Server VM (build 25.161-b12, mixed mode)</span><br></pre></td></tr></table></figure></p><p><strong>JDK9安装</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@linux-node8 ~]<span class="comment"># rpm -ivh jdk-9.0.4_linux-x64_bin.rpm</span></span><br></pre></td></tr></table></figure></p><blockquote><p>jenkins安装依赖JDK, 配置使用jdk8即可，所以jdk8设置环境变量即可。jdk9安装完成即可，无需设置环境变量。</p></blockquote><p>在jenkins中配置JDK版本<br>登陆jenkins-&gt; 系统设置 -&gt; Global Tool Configuration(全局设置)<br><img src="/archives/4183e6f8/01.png" alt=""></p><blockquote><p>根据项目需要可以配置多个JDK版本</p></blockquote><h2 id="项目配置"><a href="#项目配置" class="headerlink" title="项目配置"></a>项目配置</h2><p>新建项目muti-jdk-&gt;选择自由风格-&gt;构建步骤选择Execute shell步骤添加java -version用来验证项目是否正确选择了不同的jdk版本。<br>选择jdk版本的方法有两种：<br>方法1：使用jenkins自带的JDK选择项指定JDK版本<br><img src="/archives/4183e6f8/02.png" alt=""></p><blockquote><p>该方法可以指定项目JDK版本但是不灵活，项目创建后JDK版本即指定完成，如果有所变动需要手动修改JDK版本</p></blockquote><p>方法2：安装并使用JDK Parameter插件指定JDK版本<br><img src="/archives/4183e6f8/03.png" alt=""><br>每个参数都有详细说明，添加完成效果如下<br><img src="/archives/4183e6f8/04.png" alt=""></p><blockquote><p>注意：JDK Parameter插件选择JDK版本优先级高于系统默认的JDK版本选择器</p></blockquote><h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><p><a href="https://wiki.jenkins.io/display/JENKINS/JDK+Parameter+Plugin" target="_blank" rel="noopener">JDK Parameter</a></p><p>======================================================<br>希望各位朋友支持一下</p><ul><li>领取我的<a href="https://promotion.aliyun.com/ntms/act/ambassador/sharetouser.html?userCode=xpdsz87p&amp;utm_source=xpdsz87p" target="_blank" rel="noopener">阿里云幸运券</a>,谢谢.</li><li>使用<a href="https://cloud.tencent.com/redirect.php?redirect=1005&amp;cps_key=5a162632de40024cd01aabff4d3f1370" target="_blank" rel="noopener">腾讯云资源</a></li><li>自己的网站承接广告<a href="http://www.sudianlm.com/track/c/?rid=2056" target="_blank" rel="noopener">速点广告联盟</a></li><li>广告位招商QQ:1455975151</li><li>喜欢购物的朋友可以看看，<a href="http://www.1zhe.com/yq/1066027" target="_blank" rel="noopener">一折特卖</a><!--注册一折特卖，免费领集分宝，集分宝可以当钱花，免费购物不是梦，注册马上送你10集分宝。--></li></ul><p><strong>本文作者</strong>：dongsheng<br><strong>本文地址</strong>： <a href="https://mds1455975151.github.io/archives/4183e6f8.html">https://mds1455975151.github.io/archives/4183e6f8.html</a> <br><strong>版权声明</strong>：转载请注明出处！</p>]]></content>
    
    <summary type="html">
    
      介绍Jenkins如何支持多JDK版本配置及最佳实践
    
    </summary>
    
      <category term="jenkins" scheme="https://mds1455975151.github.io/categories/jenkins/"/>
    
    
      <category term="jenkins" scheme="https://mds1455975151.github.io/tags/jenkins/"/>
    
      <category term="JDK" scheme="https://mds1455975151.github.io/tags/JDK/"/>
    
      <category term="多版本管理" scheme="https://mds1455975151.github.io/tags/%E5%A4%9A%E7%89%88%E6%9C%AC%E7%AE%A1%E7%90%86/"/>
    
  </entry>
  
</feed>
