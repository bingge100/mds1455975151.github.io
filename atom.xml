<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>DongSheng&#39;s Blog</title>
  <icon>https://www.gravatar.com/avatar/2e394ffb56f8f004acd7419b61a7c933</icon>
  <subtitle>记录点滴，不断突破</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://mds1455975151.github.io/"/>
  <updated>2018-03-20T08:29:56.364Z</updated>
  <id>https://mds1455975151.github.io/</id>
  
  <author>
    <name>DongSheng</name>
    <email>madscdpc@gmail.com</email>
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>CentOS 7使用问题集锦</title>
    <link href="https://mds1455975151.github.io/archives/f6fea201.html"/>
    <id>https://mds1455975151.github.io/archives/f6fea201.html</id>
    <published>2018-03-20T08:12:29.000Z</published>
    <updated>2018-03-20T08:29:56.364Z</updated>
    
    <content type="html"><![CDATA[<script src="\assets\js\APlayer.min.js"> </script><blockquote><p>CentOS 7使用问题集锦</p></blockquote><a id="more"></a><h1 id="killall命令"><a href="#killall命令" class="headerlink" title="killall命令"></a>killall命令</h1><p>CentOS 7精简安装后,使用中发现没有killall命令。 安装psmisc这个包即可.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># yum install psmisc</span></span><br><span class="line"><span class="comment"># rpm -ql psmisc      # 查看该工具包的相关命令</span></span><br><span class="line">/usr/bin/killall</span><br><span class="line">/usr/bin/peekfd</span><br><span class="line">/usr/bin/prtstat</span><br><span class="line">/usr/bin/pstree</span><br><span class="line">/usr/bin/pstree.x11</span><br><span class="line">/usr/sbin/fuser</span><br></pre></td></tr></table></figure></p><h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><p>======================================================<br>希望各位朋友支持一下</p><ul><li>领取我的<a href="https://promotion.aliyun.com/ntms/act/ambassador/sharetouser.html?userCode=xpdsz87p&amp;utm_source=xpdsz87p" target="_blank" rel="noopener">阿里云幸运券</a>,谢谢.</li><li>使用<a href="https://cloud.tencent.com/redirect.php?redirect=1005&amp;cps_key=5a162632de40024cd01aabff4d3f1370" target="_blank" rel="noopener">腾讯云资源</a></li><li>自己的网站承接广告<a href="http://www.sudianlm.com/track/c/?rid=2056" target="_blank" rel="noopener">速点广告联盟</a></li><li>广告位招商QQ:1455975151</li><li>喜欢购物的朋友可以看看，<a href="http://www.1zhe.com/yq/1066027" target="_blank" rel="noopener">一折特卖</a><!--注册一折特卖，免费领集分宝，集分宝可以当钱花，免费购物不是梦，注册马上送你10集分宝。--></li></ul><p><strong>本文作者</strong>：dongsheng<br><strong>本文地址</strong>： <a href="https://mds1455975151.github.io/archives/f6fea201.html">https://mds1455975151.github.io/archives/f6fea201.html</a> <br><strong>版权声明</strong>：转载请注明出处！</p>]]></content>
    
    <summary type="html">
    
      CentOS 7使用问题集锦
    
    </summary>
    
      <category term="Linux运维" scheme="https://mds1455975151.github.io/categories/Linux%E8%BF%90%E7%BB%B4/"/>
    
    
      <category term="CentOS" scheme="https://mds1455975151.github.io/tags/CentOS/"/>
    
  </entry>
  
  <entry>
    <title>游戏上线checklist</title>
    <link href="https://mds1455975151.github.io/archives/c62a0f6f.html"/>
    <id>https://mds1455975151.github.io/archives/c62a0f6f.html</id>
    <published>2018-03-20T07:48:33.000Z</published>
    <updated>2018-03-20T07:48:40.077Z</updated>
    
    <content type="html"><![CDATA[<script src="\assets\js\APlayer.min.js"> </script><p>&gt;</p><a id="more"></a><p>======================================================<br>希望各位朋友支持一下</p><ul><li>领取我的<a href="https://promotion.aliyun.com/ntms/act/ambassador/sharetouser.html?userCode=xpdsz87p&amp;utm_source=xpdsz87p" target="_blank" rel="noopener">阿里云幸运券</a>,谢谢.</li><li>使用<a href="https://cloud.tencent.com/redirect.php?redirect=1005&amp;cps_key=5a162632de40024cd01aabff4d3f1370" target="_blank" rel="noopener">腾讯云资源</a></li><li>自己的网站承接广告<a href="http://www.sudianlm.com/track/c/?rid=2056" target="_blank" rel="noopener">速点广告联盟</a></li><li>广告位招商QQ:1455975151</li><li>喜欢购物的朋友可以看看，<a href="http://www.1zhe.com/yq/1066027" target="_blank" rel="noopener">一折特卖</a><!--注册一折特卖，免费领集分宝，集分宝可以当钱花，免费购物不是梦，注册马上送你10集分宝。--></li></ul><p><strong>本文作者</strong>：dongsheng<br><strong>本文地址</strong>： <a href="https://mds1455975151.github.io/archives/c62a0f6f.html">https://mds1455975151.github.io/archives/c62a0f6f.html</a> <br><strong>版权声明</strong>：转载请注明出处！</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;gt;&lt;/p&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Linux运维之ssh-agent代理讲解</title>
    <link href="https://mds1455975151.github.io/archives/224bdc06.html"/>
    <id>https://mds1455975151.github.io/archives/224bdc06.html</id>
    <published>2018-03-20T07:47:35.000Z</published>
    <updated>2018-03-20T08:18:44.914Z</updated>
    
    <content type="html"><![CDATA[<script src="\assets\js\APlayer.min.js"> </script><blockquote><p>ssh-agent代理讲解<br><a id="more"></a></p><h1 id="ssh-agent介绍"><a href="#ssh-agent介绍" class="headerlink" title="ssh-agent介绍"></a>ssh-agent介绍</h1><p>ssh-agent命令是一种控制用来保存公钥身份验证所使用的私钥的程序。ssh-agent在X会话或登录会话之初启动，所有其他窗口或程序则以客户端程序的身份启动并加入到ssh-agent程序中。通过使用环境变量，可定位代理并在登录到其他使用ssh机器上时使用代理自动进行身份验证。<br>其实ssh-agent就是一个密钥管理器，运行ssh-agent以后，使用ssh-add将私钥交给ssh-agent保管，其他程序需要身份验证的时候可以将验证申请交给ssh-agent来完成整个认证过程。</p></blockquote><h1 id="常用终端工具配置"><a href="#常用终端工具配置" class="headerlink" title="常用终端工具配置"></a>常用终端工具配置</h1><h2 id="Xshell"><a href="#Xshell" class="headerlink" title="Xshell"></a>Xshell</h2><p><img src="/archives/224bdc06/01.png" alt=""></p><h2 id="secureCRT"><a href="#secureCRT" class="headerlink" title="secureCRT"></a>secureCRT</h2><p><img src="/archives/224bdc06/02.png" alt=""></p><h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><p>======================================================<br>希望各位朋友支持一下</p><ul><li>领取我的<a href="https://promotion.aliyun.com/ntms/act/ambassador/sharetouser.html?userCode=xpdsz87p&amp;utm_source=xpdsz87p" target="_blank" rel="noopener">阿里云幸运券</a>,谢谢.</li><li>使用<a href="https://cloud.tencent.com/redirect.php?redirect=1005&amp;cps_key=5a162632de40024cd01aabff4d3f1370" target="_blank" rel="noopener">腾讯云资源</a></li><li>自己的网站承接广告<a href="http://www.sudianlm.com/track/c/?rid=2056" target="_blank" rel="noopener">速点广告联盟</a></li><li>广告位招商QQ:1455975151</li><li>喜欢购物的朋友可以看看，<a href="http://www.1zhe.com/yq/1066027" target="_blank" rel="noopener">一折特卖</a><!--注册一折特卖，免费领集分宝，集分宝可以当钱花，免费购物不是梦，注册马上送你10集分宝。--></li></ul><p><strong>本文作者</strong>：dongsheng<br><strong>本文地址</strong>： <a href="https://mds1455975151.github.io/archives/224bdc06.html">https://mds1455975151.github.io/archives/224bdc06.html</a> <br><strong>版权声明</strong>：转载请注明出处！</p>]]></content>
    
    <summary type="html">
    
      ssh-agent代理讲解
    
    </summary>
    
      <category term="Linux运维" scheme="https://mds1455975151.github.io/categories/Linux%E8%BF%90%E7%BB%B4/"/>
    
    
      <category term="ssh-agent" scheme="https://mds1455975151.github.io/tags/ssh-agent/"/>
    
  </entry>
  
  <entry>
    <title>Kubernetes部署失败的10个最普遍原因</title>
    <link href="https://mds1455975151.github.io/archives/e0ea2810.html"/>
    <id>https://mds1455975151.github.io/archives/e0ea2810.html</id>
    <published>2018-03-15T04:33:30.000Z</published>
    <updated>2018-03-15T04:36:55.184Z</updated>
    
    <content type="html"><![CDATA[<script src="\assets\js\APlayer.min.js"> </script><blockquote><p>Kubernetes部署失败的10个最普遍原因</p></blockquote><a id="more"></a><p><a href="https://kukulinski.com/10-most-common-reasons-kubernetes-deployments-fail-part-1/" target="_blank" rel="noopener">https://kukulinski.com/10-most-common-reasons-kubernetes-deployments-fail-part-1/</a><br><a href="https://kukulinski.com/10-most-common-reasons-kubernetes-deployments-fail-part-2/" target="_blank" rel="noopener">https://kukulinski.com/10-most-common-reasons-kubernetes-deployments-fail-part-2/</a></p><p>======================================================<br>希望各位朋友支持一下</p><ul><li>领取我的<a href="https://promotion.aliyun.com/ntms/act/ambassador/sharetouser.html?userCode=xpdsz87p&amp;utm_source=xpdsz87p" target="_blank" rel="noopener">阿里云幸运券</a>,谢谢.</li><li>使用<a href="https://cloud.tencent.com/redirect.php?redirect=1005&amp;cps_key=5a162632de40024cd01aabff4d3f1370" target="_blank" rel="noopener">腾讯云资源</a></li><li>自己的网站承接广告<a href="http://www.sudianlm.com/track/c/?rid=2056" target="_blank" rel="noopener">速点广告联盟</a></li><li>广告位招商QQ:1455975151</li><li>喜欢购物的朋友可以看看，<a href="http://www.1zhe.com/yq/1066027" target="_blank" rel="noopener">一折特卖</a><!--注册一折特卖，免费领集分宝，集分宝可以当钱花，免费购物不是梦，注册马上送你10集分宝。--></li></ul><p><strong>本文作者</strong>：dongsheng<br><strong>本文地址</strong>： <a href="https://mds1455975151.github.io/archives/e0ea2810.html">https://mds1455975151.github.io/archives/e0ea2810.html</a> <br><strong>版权声明</strong>：转载请注明出处！</p>]]></content>
    
    <summary type="html">
    
      Kubernetes部署失败的10个最普遍原因
    
    </summary>
    
      <category term="Docker" scheme="https://mds1455975151.github.io/categories/Docker/"/>
    
    
      <category term="Kubernetes" scheme="https://mds1455975151.github.io/tags/Kubernetes/"/>
    
  </entry>
  
  <entry>
    <title>Kubernetes创建挂载共享存储的容器</title>
    <link href="https://mds1455975151.github.io/archives/43db2491.html"/>
    <id>https://mds1455975151.github.io/archives/43db2491.html</id>
    <published>2018-03-14T08:08:04.000Z</published>
    <updated>2018-03-14T08:35:03.218Z</updated>
    
    <content type="html"><![CDATA[<script src="\assets\js\APlayer.min.js"> </script><blockquote><p>Kubernetes创建挂载共享存储的容器</p></blockquote><a id="more"></a><h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>本文介绍如何使用NFS来配置一个通过挂载共享存储的Nginx容器。</p><h1 id="部署实践"><a href="#部署实践" class="headerlink" title="部署实践"></a>部署实践</h1><h2 id="环境说明"><a href="#环境说明" class="headerlink" title="环境说明"></a>环境说明</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Kubernetes: v1.8版本 192.168.200.100 CentOS 7.4</span><br><span class="line">NFS:  192.168.200.101  CentOS 7.4</span><br></pre></td></tr></table></figure><h2 id="Kubernetes集群部署"><a href="#Kubernetes集群部署" class="headerlink" title="Kubernetes集群部署"></a>Kubernetes集群部署</h2><p>略</p><h2 id="NFS部署"><a href="#NFS部署" class="headerlink" title="NFS部署"></a>NFS部署</h2><p><strong>Server端</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># yum install rpcbind nfs-utils -y</span></span><br><span class="line"><span class="comment"># mkdir -p /data/www-data</span></span><br><span class="line"><span class="comment"># cat &gt;/etc/exports&lt;&lt;-EOF</span></span><br><span class="line">/data/www-data  192.168.200.0/24(rw,sync)</span><br><span class="line">EOF</span><br><span class="line"><span class="comment"># systemctl start nfs</span></span><br><span class="line"><span class="comment"># systemctl enable nfs</span></span><br><span class="line"><span class="comment"># echo "k8s" &gt;&gt; /data/www-data/index.html   # 创建测试文件</span></span><br></pre></td></tr></table></figure></p><p><strong>Client端</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># yum install nfs-utils -y</span></span><br><span class="line"><span class="comment"># showmount -e node1                 # 显示共享目录</span></span><br><span class="line"><span class="comment"># mount node1:/data/www-data /mnt    # 测试挂载</span></span><br></pre></td></tr></table></figure></p><blockquote><p>1、配置参数可以根据线上环境调整<br>2、所有Kubernetes node节点必须按照client按照客户端，理解PV\PVC使用原理</p></blockquote><h2 id="创建PV"><a href="#创建PV" class="headerlink" title="创建PV"></a>创建PV</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># cat pv-nfs.yml</span></span><br><span class="line">apiVersion: v1</span><br><span class="line">kind: PersistentVolume</span><br><span class="line">metadata:</span><br><span class="line">  name: pv0001</span><br><span class="line">spec:</span><br><span class="line">  capacity:</span><br><span class="line">    storage: 5Gi</span><br><span class="line">  accessModes:</span><br><span class="line">    - ReadWriteOnce</span><br><span class="line">  nfs:</span><br><span class="line">    server: node1</span><br><span class="line">    path: <span class="string">"/data/www-data"</span></span><br><span class="line">[root@master k8s]<span class="comment"># kubectl create -f pv-nfs.yml --record</span></span><br><span class="line">persistentvolume <span class="string">"pv0001"</span> created</span><br><span class="line">[root@master k8s]<span class="comment"># kubectl get pv</span></span><br><span class="line">NAME      CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS      CLAIM     STORAGECLASS   REASON    AGE</span><br><span class="line">pv0001    5Gi        RWO            Retain           Available                                      27s</span><br></pre></td></tr></table></figure><h2 id="创建PVC"><a href="#创建PVC" class="headerlink" title="创建PVC"></a>创建PVC</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[root@master k8s]<span class="comment"># cat pvc.yml</span></span><br><span class="line">kind: PersistentVolumeClaim</span><br><span class="line">apiVersion: v1</span><br><span class="line">metadata:</span><br><span class="line">  name: myclaim</span><br><span class="line">spec:</span><br><span class="line">  accessModes:</span><br><span class="line">    - ReadWriteOnce</span><br><span class="line">  resources:</span><br><span class="line">    requests:</span><br><span class="line">      storage: 1Gi</span><br><span class="line">[root@master k8s]<span class="comment"># kubectl create -f pvc.yml --record</span></span><br><span class="line">persistentvolumeclaim <span class="string">"myclaim"</span> created</span><br><span class="line">[root@master k8s]<span class="comment"># kubectl get pvc</span></span><br><span class="line">NAME      STATUS    VOLUME    CAPACITY   ACCESS MODES   STORAGECLASS   AGE</span><br><span class="line">myclaim   Bound     pv0001    5Gi        RWO                           5s</span><br></pre></td></tr></table></figure><h2 id="创建Nginx-deployment"><a href="#创建Nginx-deployment" class="headerlink" title="创建Nginx deployment"></a>创建Nginx deployment</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">[root@master k8s]<span class="comment"># cat nginx-deployment-pvc.yml</span></span><br><span class="line">apiVersion: extensions/v1beta1</span><br><span class="line">kind: Deployment</span><br><span class="line">metadata:</span><br><span class="line">  name: nginx-deployment-pvc</span><br><span class="line">spec:</span><br><span class="line">  replicas: 3</span><br><span class="line">  template:</span><br><span class="line">    metadata:</span><br><span class="line">      labels:</span><br><span class="line">        app: nginx</span><br><span class="line">        track: stable</span><br><span class="line">    spec:</span><br><span class="line">      containers:</span><br><span class="line">      - name: nginx</span><br><span class="line">        image: gtest.com/k8s/nginx:1.10</span><br><span class="line">        ports:</span><br><span class="line">        - containerPort: 80</span><br><span class="line">        volumeMounts:</span><br><span class="line">        - mountPath: <span class="string">"/usr/share/nginx/html"</span></span><br><span class="line">          name: nginx-storage</span><br><span class="line">      volumes:</span><br><span class="line">      - name: nginx-storage</span><br><span class="line">        persistentVolumeClaim:</span><br><span class="line">          claimName: myclaim</span><br><span class="line">[root@master k8s]<span class="comment"># kubectl get pod -o wide</span></span><br><span class="line">NAME                                    READY     STATUS    RESTARTS   AGE       IP               NODE</span><br><span class="line">nginx-deployment-pvc-789584787d-c2npz   1/1       Running   0          2m        172.20.166.139   192.168.200.101</span><br><span class="line">nginx-deployment-pvc-789584787d-cc7td   1/1       Running   0          2m        172.20.104.9     192.168.200.102</span><br><span class="line">nginx-deployment-pvc-789584787d-j9zdx   1/1       Running   0          2m        172.20.104.10    192.168.200.102</span><br></pre></td></tr></table></figure><h2 id="创建Nginx-Service"><a href="#创建Nginx-Service" class="headerlink" title="创建Nginx Service"></a>创建Nginx Service</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">[root@master k8s]<span class="comment"># cat nginx-svc.yml</span></span><br><span class="line">apiVersion: v1</span><br><span class="line">kind: Service</span><br><span class="line">metadata:</span><br><span class="line">  name: nginx-svc</span><br><span class="line">spec:</span><br><span class="line">  <span class="built_in">type</span>: NodePort</span><br><span class="line">  ports:</span><br><span class="line">    - port: 80</span><br><span class="line">      nodePort: 32000</span><br><span class="line">  selector:</span><br><span class="line">    app: nginx</span><br><span class="line">[root@master k8s]<span class="comment"># kubectl create -f nginx-svc.yml --record</span></span><br><span class="line">service <span class="string">"nginx-svc"</span> created</span><br><span class="line">[root@master k8s]<span class="comment"># kubectl get service</span></span><br><span class="line">NAME         TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)        AGE</span><br><span class="line">kubernetes   ClusterIP   10.68.0.1       &lt;none&gt;        443/TCP        5h</span><br><span class="line">nginx-svc    NodePort    10.68.133.178   &lt;none&gt;        80:32000/TCP   14s</span><br><span class="line">[root@master k8s]<span class="comment"># kubectl get endpoints nginx-svc</span></span><br><span class="line">NAME        ENDPOINTS                                           AGE</span><br><span class="line">nginx-svc   172.20.166.139:80,172.20.104.9:80,172.20.104.10:80   33s</span><br></pre></td></tr></table></figure><h2 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h2><p>1、浏览器访问测试，访问Kubernetes任意节点的32000端口<br><img src="/archives/43db2491/01.png" alt=""><br>2、通过dashboard查看创建的各类资源<br><img src="/archives/43db2491/02.png" alt=""><br><img src="/archives/43db2491/03.png" alt=""><br><img src="/archives/43db2491/04.png" alt=""><br><img src="/archives/43db2491/05.png" alt=""></p><h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><p><a href="https://kubernetes.io/docs/concepts/storage/persistent-volumes/" target="_blank" rel="noopener">https://kubernetes.io/docs/concepts/storage/persistent-volumes/</a></p><p>======================================================<br>希望各位朋友支持一下</p><ul><li>领取我的<a href="https://promotion.aliyun.com/ntms/act/ambassador/sharetouser.html?userCode=xpdsz87p&amp;utm_source=xpdsz87p" target="_blank" rel="noopener">阿里云幸运券</a>,谢谢.</li><li>使用<a href="https://cloud.tencent.com/redirect.php?redirect=1005&amp;cps_key=5a162632de40024cd01aabff4d3f1370" target="_blank" rel="noopener">腾讯云资源</a></li><li>自己的网站承接广告<a href="http://www.sudianlm.com/track/c/?rid=2056" target="_blank" rel="noopener">速点广告联盟</a></li><li>广告位招商QQ:1455975151</li><li>喜欢购物的朋友可以看看，<a href="http://www.1zhe.com/yq/1066027" target="_blank" rel="noopener">一折特卖</a><!--注册一折特卖，免费领集分宝，集分宝可以当钱花，免费购物不是梦，注册马上送你10集分宝。--></li></ul><p><strong>本文作者</strong>：dongsheng<br><strong>本文地址</strong>： <a href="https://mds1455975151.github.io/archives/43db2491.html">https://mds1455975151.github.io/archives/43db2491.html</a> <br><strong>版权声明</strong>：转载请注明出处！</p>]]></content>
    
    <summary type="html">
    
      Kubernetes创建挂载共享存储的容器
    
    </summary>
    
      <category term="Docker" scheme="https://mds1455975151.github.io/categories/Docker/"/>
    
    
      <category term="Kubernetes" scheme="https://mds1455975151.github.io/tags/Kubernetes/"/>
    
      <category term="共享存储" scheme="https://mds1455975151.github.io/tags/%E5%85%B1%E4%BA%AB%E5%AD%98%E5%82%A8/"/>
    
  </entry>
  
  <entry>
    <title>基于Kubernetes部署jenkins并动态分配资源</title>
    <link href="https://mds1455975151.github.io/archives/48164dd0.html"/>
    <id>https://mds1455975151.github.io/archives/48164dd0.html</id>
    <published>2018-03-14T07:14:40.000Z</published>
    <updated>2018-03-14T07:14:45.379Z</updated>
    
    <content type="html"><![CDATA[<script src="\assets\js\APlayer.min.js"> </script><p>&gt;</p><a id="more"></a><p>======================================================<br>希望各位朋友支持一下</p><ul><li>领取我的<a href="https://promotion.aliyun.com/ntms/act/ambassador/sharetouser.html?userCode=xpdsz87p&amp;utm_source=xpdsz87p" target="_blank" rel="noopener">阿里云幸运券</a>,谢谢.</li><li>使用<a href="https://cloud.tencent.com/redirect.php?redirect=1005&amp;cps_key=5a162632de40024cd01aabff4d3f1370" target="_blank" rel="noopener">腾讯云资源</a></li><li>自己的网站承接广告<a href="http://www.sudianlm.com/track/c/?rid=2056" target="_blank" rel="noopener">速点广告联盟</a></li><li>广告位招商QQ:1455975151</li><li>喜欢购物的朋友可以看看，<a href="http://www.1zhe.com/yq/1066027" target="_blank" rel="noopener">一折特卖</a><!--注册一折特卖，免费领集分宝，集分宝可以当钱花，免费购物不是梦，注册马上送你10集分宝。--></li></ul><p><strong>本文作者</strong>：dongsheng<br><strong>本文地址</strong>： <a href="https://mds1455975151.github.io/archives/48164dd0.html">https://mds1455975151.github.io/archives/48164dd0.html</a> <br><strong>版权声明</strong>：转载请注明出处！</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;gt;&lt;/p&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Linux之ProxyChains终端代理软件</title>
    <link href="https://mds1455975151.github.io/archives/99c00eae.html"/>
    <id>https://mds1455975151.github.io/archives/99c00eae.html</id>
    <published>2018-03-12T12:52:26.000Z</published>
    <updated>2018-03-12T14:12:42.585Z</updated>
    
    <content type="html"><![CDATA[<script src="\assets\js\APlayer.min.js"> </script><blockquote><p>ProxyChains终端代理软件</p></blockquote><a id="more"></a><h1 id="ProxyChains介绍"><a href="#ProxyChains介绍" class="headerlink" title="ProxyChains介绍"></a>ProxyChains介绍</h1><p><a href="http://proxychains.sourceforge.net/" target="_blank" rel="noopener">官网地址</a><br><a href="https://github.com/haad/proxychains" target="_blank" rel="noopener">Github地址</a><br>About proxychains tool:</p><pre><code>* It&apos;s a proxifier.* Latest version: 3.1* Dedicated OS: Linux and other Unices.* Allows TCP and DNS tunneling through proxies.* Supports HTTP, SOCKS4 and SOCKS5 proxy servers.* Different proxy types can be mixed in the same chain.* Proxy chain: user-defined list of proxies chained together.</code></pre><p>Usability :</p><pre><code>* Run any program through proxy server.* Access the Internet from behind a restrictive firewall.* Hide your IP* Run SSH, telnet, wget, ftp, apt, vnc, nmap through proxy servers.* Access Intranets (192.168.*.*/10.*.*.*) from outside through reverse proxy</code></pre><h1 id="ProxyChains部署实践"><a href="#ProxyChains部署实践" class="headerlink" title="ProxyChains部署实践"></a>ProxyChains部署实践</h1><h2 id="环境说明"><a href="#环境说明" class="headerlink" title="环境说明"></a>环境说明</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># cat /etc/redhat-release</span></span><br><span class="line">CentOS Linux release 7.4.1708 (Core)</span><br><span class="line"><span class="comment"># uname -r</span></span><br><span class="line">3.10.0-693.el7.x86_64</span><br></pre></td></tr></table></figure><h2 id="部署实践"><a href="#部署实践" class="headerlink" title="部署实践"></a>部署实践</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># wget https://github.com/haad/proxychains/archive/proxychains-4.2.0.tar.gz</span></span><br><span class="line"><span class="comment"># tar -zxf proxychains-4.2.0.tar.gz</span></span><br><span class="line"><span class="comment"># cd proxychains-proxychains-4.2.0/</span></span><br><span class="line"><span class="comment"># cat README                        # 安装及配置说明</span></span><br><span class="line"><span class="comment"># ./configure</span></span><br><span class="line"><span class="comment"># make &amp;&amp; make install</span></span><br></pre></td></tr></table></figure><h2 id="使用方法说明"><a href="#使用方法说明" class="headerlink" title="使用方法说明"></a>使用方法说明</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">When to use it ?</span><br><span class="line">1) When the only way to get <span class="string">"outside"</span> from your LAN is through proxy server.</span><br><span class="line">2) To get out from behind restrictive firewall <span class="built_in">which</span> filters outgoing ports.</span><br><span class="line">3) To use two (or more) proxies <span class="keyword">in</span> chain:</span><br><span class="line">        like: your_host &lt;--&gt; proxy1 &lt;--&gt; proxy2 &lt;--&gt; target_host</span><br><span class="line">4) To <span class="string">"proxify"</span> some program with no proxy support built-in (like telnet)</span><br><span class="line">5) Access intranet from outside via proxy.</span><br><span class="line">5) To use DNS behind proxy.</span><br><span class="line"></span><br><span class="line">Some cool features:</span><br><span class="line"></span><br><span class="line">* This program can mix different proxy types <span class="keyword">in</span> the same chain</span><br><span class="line">        like: your_host &lt;--&gt;socks5 &lt;--&gt; http &lt;--&gt; socks4 &lt;--&gt; target_host</span><br><span class="line">* Different chaining options supported</span><br><span class="line">        random order from the list ( user defined length of chain ).</span><br><span class="line">        exact order  (as they appear <span class="keyword">in</span> the list )</span><br><span class="line">        dynamic order (smart exclude dead proxies from chain)</span><br><span class="line">* You can use it with any TCP client application, even network scanners</span><br><span class="line">        yes, yes - you can make portscan via proxy (or chained proxies)</span><br><span class="line">        <span class="keyword">for</span> example with Nmap scanner by fyodor (www.insecire.org/nmap).</span><br><span class="line">        proxychains nmap -sT -PO -p 80 -iR  (find some webservers through proxy)</span><br><span class="line">* You can use it with servers, like squid, sendmail, or whatever.</span><br><span class="line">* DNS resolving through proxy.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Configuration:</span><br><span class="line">--------------</span><br><span class="line"></span><br><span class="line">proxychains looks <span class="keyword">for</span> config file <span class="keyword">in</span> following order:</span><br><span class="line">1)      file listed <span class="keyword">in</span> environment variable <span class="variable">$&#123;PROXYCHAINS_CONF_FILE&#125;</span> or</span><br><span class="line">        provided as a -f argument to proxychains script or binary.</span><br><span class="line">2)      ./proxychains.conf</span><br><span class="line">3)      $(HOME)/.proxychains/proxychains.conf</span><br><span class="line">4)      /etc/proxychains.conf  **</span><br><span class="line"></span><br><span class="line">**see more <span class="keyword">in</span> /etc/proxychains.conf</span><br><span class="line"></span><br><span class="line">Usage Example:</span><br><span class="line"></span><br><span class="line">        $ proxychains telnet targethost.com</span><br><span class="line"></span><br><span class="line"><span class="keyword">in</span> this example it will run telnet through proxy(or chained proxies)</span><br><span class="line">specified by proxychains.conf</span><br><span class="line"></span><br><span class="line">Usage Example:</span><br><span class="line"></span><br><span class="line">        $ proxychains -f /etc/proxychains-other.conf targethost2.com</span><br><span class="line"></span><br><span class="line"><span class="keyword">in</span> this example it will use different configuration file <span class="keyword">then</span> proxychains.conf</span><br><span class="line">to connect to targethost2.com host.</span><br><span class="line"></span><br><span class="line">Usage Example:</span><br><span class="line"></span><br><span class="line">        $ proxyresolv targethost.com</span><br><span class="line"></span><br><span class="line"><span class="keyword">in</span> this example it will resolve targethost.com through proxy(or chained proxies)</span><br><span class="line">specified by proxychains.conf</span><br></pre></td></tr></table></figure><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>1、需要找到稳定快速的代理IP<br>2、proxychains只会代理TCP连接，而ping使用的是ICMP</p><h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><p><a href="https://github.com/haad/proxychains" target="_blank" rel="noopener">https://github.com/haad/proxychains</a></p><p>======================================================<br>希望各位朋友支持一下</p><ul><li>领取我的<a href="https://promotion.aliyun.com/ntms/act/ambassador/sharetouser.html?userCode=xpdsz87p&amp;utm_source=xpdsz87p" target="_blank" rel="noopener">阿里云幸运券</a>,谢谢.</li><li>使用<a href="https://cloud.tencent.com/redirect.php?redirect=1005&amp;cps_key=5a162632de40024cd01aabff4d3f1370" target="_blank" rel="noopener">腾讯云资源</a></li><li>自己的网站承接广告<a href="http://www.sudianlm.com/track/c/?rid=2056" target="_blank" rel="noopener">速点广告联盟</a></li><li>广告位招商QQ:1455975151</li><li>喜欢购物的朋友可以看看，<a href="http://www.1zhe.com/yq/1066027" target="_blank" rel="noopener">一折特卖</a><!--注册一折特卖，免费领集分宝，集分宝可以当钱花，免费购物不是梦，注册马上送你10集分宝。--></li></ul><p><strong>本文作者</strong>：dongsheng<br><strong>本文地址</strong>： <a href="https://mds1455975151.github.io/archives/99c00eae.html">https://mds1455975151.github.io/archives/99c00eae.html</a> <br><strong>版权声明</strong>：转载请注明出处！</p>]]></content>
    
    <summary type="html">
    
      ProxyChains终端代理软件
    
    </summary>
    
      <category term="Linux运维" scheme="https://mds1455975151.github.io/categories/Linux%E8%BF%90%E7%BB%B4/"/>
    
    
      <category term="ProxyChains" scheme="https://mds1455975151.github.io/tags/ProxyChains/"/>
    
      <category term="终端代理" scheme="https://mds1455975151.github.io/tags/%E7%BB%88%E7%AB%AF%E4%BB%A3%E7%90%86/"/>
    
  </entry>
  
  <entry>
    <title>Web应用问题排查tips</title>
    <link href="https://mds1455975151.github.io/archives/a946f55.html"/>
    <id>https://mds1455975151.github.io/archives/a946f55.html</id>
    <published>2018-03-09T01:07:57.000Z</published>
    <updated>2018-03-09T01:14:10.141Z</updated>
    
    <content type="html"><![CDATA[<script src="\assets\js\APlayer.min.js"> </script><blockquote><p>Web应用问题排查tips</p></blockquote><a id="more"></a><h1 id="快速查看服务器的应用及目录"><a href="#快速查看服务器的应用及目录" class="headerlink" title="快速查看服务器的应用及目录"></a>快速查看服务器的应用及目录</h1><p>新登录到一个服务器，或者服务器上有很多应用时，怎么样找到每个应用的监听端口，及应用目录是很重要的</p><ul><li>首先要判断是否docker服务，docker ps可以方便的查看是否是docker服务，是的话也可以列出当前在跑的容器服务</li><li>如果非docker容器的话，(如果是tcp web服务)可以通过netstat -lntp, 或者losf -iTCP -sTCP:listen查看当前在监听请求的服务</li><li>netstat 会显示监听服务的pid，运行进程一般在内存中分配资源，所以可以在/proc/${pid}/目录中查看进程命令，cwd(current work directory)等信息<h1 id="日志总是最好的突破口"><a href="#日志总是最好的突破口" class="headerlink" title="日志总是最好的突破口"></a>日志总是最好的突破口</h1></li><li>如果有ELK等日志分析系统，通过filed查询可以方便的过滤出错误码及对应请求分布</li><li>否则，可以通过grep, awk等命令统计出自己想要的内容，比如<br>过滤某个错误码<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep -E <span class="string">"\s500\s"</span> access_log</span><br></pre></td></tr></table></figure></li></ul><p>统计最近一段时间请求数量（nginx为例）<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$awk</span> <span class="string">'&#123;print $7&#125;'</span> access_log|sort|uniq -c</span><br></pre></td></tr></table></figure></p><h1 id="配置文件总有你需要的信息"><a href="#配置文件总有你需要的信息" class="headerlink" title="配置文件总有你需要的信息"></a>配置文件总有你需要的信息</h1><p>找到了应用的目录，也在日志中发现了端倪，但是某个错误提示让你无法继续下去，比如某某参数有问题，或者某某服务 (eg:DB) 连接失败，这种情况去配置文件中看一下吧。依赖服务信息(url/port/service_name) ，配置参数(log_info，listen_port等)一般会在配置文件中统一配置的</p><h1 id="链式跟踪，顺藤摸瓜"><a href="#链式跟踪，顺藤摸瓜" class="headerlink" title="链式跟踪，顺藤摸瓜"></a>链式跟踪，顺藤摸瓜</h1><p>很多服务一般都会有trace_id 方便跟踪请求，对某个请求调用链不熟悉的人来说，接入层日志（以nginx为例）是一个很好的切入点</p><ul><li>从接入层可以过滤出问题请求，找到对应的upstream</li><li>upstream一般为LVS/nginx, 这样可以定位到服务模块</li><li>nginx日志中一般会有trace id用来标识一个请求，这样可以去应用日志查询到具体的问题</li></ul><h1 id="反向跟踪，必要时的抓包跟踪"><a href="#反向跟踪，必要时的抓包跟踪" class="headerlink" title="反向跟踪，必要时的抓包跟踪"></a>反向跟踪，必要时的抓包跟踪</h1><p>有时应用日志的报警定位需要找到某个请求具体的来源,一般日志都会打印请求的地址,如果日志中没有打印的话，最好的方式就是抓包分析了.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ tcpdump -nn -X dst host <span class="variable">$&#123;dst_ip&#125;</span> and dst port <span class="variable">$&#123;port&#125;</span> -w request.cap</span><br></pre></td></tr></table></figure></p><p>如果请求量不是很大的话，可以找到请求的src.根据获取的src ip，即可反向跟踪问题</p><h1 id="pp抓包利器-Charles"><a href="#pp抓包利器-Charles" class="headerlink" title="pp抓包利器 Charles"></a>pp抓包利器 Charles</h1><p>现在移动应用流行，好多web服务都会有mobile app，问题排查时，对app的请求与服务端响应分析可以通过Charles代理来实现</p><h1 id="请求模拟-postman"><a href="#请求模拟-postman" class="headerlink" title="请求模拟-postman"></a>请求模拟-postman</h1><p>postman是一个很好的请求模拟器，支持cookie等需要登录操作的请求，是curl的一个升级版 ，交互方式十分友好，在问题复现及修复确认时，可以通过postman来模拟具体的请求</p><h1 id="参考地址"><a href="#参考地址" class="headerlink" title="参考地址"></a>参考地址</h1><p><a href="http://schin.space/notes/NOTES-%E9%97%AE%E9%A2%98%E6%8E%92%E6%9F%A5tips/" target="_blank" rel="noopener">原文链接</a></p><p>======================================================<br>希望各位朋友支持一下</p><ul><li>领取我的<a href="https://promotion.aliyun.com/ntms/act/ambassador/sharetouser.html?userCode=xpdsz87p&amp;utm_source=xpdsz87p" target="_blank" rel="noopener">阿里云幸运券</a>,谢谢.</li><li>使用<a href="https://cloud.tencent.com/redirect.php?redirect=1005&amp;cps_key=5a162632de40024cd01aabff4d3f1370" target="_blank" rel="noopener">腾讯云资源</a></li><li>自己的网站承接广告<a href="http://www.sudianlm.com/track/c/?rid=2056" target="_blank" rel="noopener">速点广告联盟</a></li><li>广告位招商QQ:1455975151</li><li>喜欢购物的朋友可以看看，<a href="http://www.1zhe.com/yq/1066027" target="_blank" rel="noopener">一折特卖</a><!--注册一折特卖，免费领集分宝，集分宝可以当钱花，免费购物不是梦，注册马上送你10集分宝。--></li></ul><p><strong>本文作者</strong>：dongsheng<br><strong>本文地址</strong>： <a href="https://mds1455975151.github.io/archives/a946f55.html">https://mds1455975151.github.io/archives/a946f55.html</a> <br><strong>版权声明</strong>：转载请注明出处！</p>]]></content>
    
    <summary type="html">
    
      Web应用问题排查tips
    
    </summary>
    
      <category term="Linux运维" scheme="https://mds1455975151.github.io/categories/Linux%E8%BF%90%E7%BB%B4/"/>
    
    
      <category term="Web" scheme="https://mds1455975151.github.io/tags/Web/"/>
    
      <category term="问题排查" scheme="https://mds1455975151.github.io/tags/%E9%97%AE%E9%A2%98%E6%8E%92%E6%9F%A5/"/>
    
  </entry>
  
  <entry>
    <title>使用LetsEncrypt配置网站https</title>
    <link href="https://mds1455975151.github.io/archives/78579e83.html"/>
    <id>https://mds1455975151.github.io/archives/78579e83.html</id>
    <published>2018-03-08T06:20:13.000Z</published>
    <updated>2018-03-08T06:54:13.970Z</updated>
    
    <content type="html"><![CDATA[<script src="\assets\js\APlayer.min.js"> </script><blockquote><p>使用LetsEncrypt配置网站https</p></blockquote><a id="more"></a><h1 id="Let’s-Encrypt介绍"><a href="#Let’s-Encrypt介绍" class="headerlink" title="Let’s Encrypt介绍"></a>Let’s Encrypt介绍</h1><p>Let’s Encrypt作为一个公共且免费SSL的项目逐渐被广大用户传播和使用，是由Mozilla、Cisco、Akamai、IdenTrust、EFF等组织人员发起，主要的目的也是为了推进网站从HTTP向HTTPS过度的进程，目前已经有越来越多的商家加入和赞助支持。<br>免费SSL证书的出现，也会对传统提供付费SSL证书服务的商家有不小的打击。到目前为止，Let’s Encrypt获得IdenTrust交叉签名，这就是说可以应用且支持包括FireFox、Chrome在内的主流浏览器的兼容和支持，虽然目前是公测阶段，但是也有不少的用户在自有网站项目中正式使用起来。<br>虽然目前Let’s Encrypt免费SSL证书默认是90天有效期，但是我们也可以到期自动续约，不影响我们的尝试和使用。</p><h1 id="实践操作"><a href="#实践操作" class="headerlink" title="实践操作"></a>实践操作</h1><h2 id="环境介绍"><a href="#环境介绍" class="headerlink" title="环境介绍"></a>环境介绍</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># cat /etc/redhat-release</span></span><br><span class="line">CentOS Linux release 7.4.1708 (Core)</span><br><span class="line"><span class="comment"># uname -r</span></span><br><span class="line">3.10.0-693.el7.x86_64</span><br><span class="line"><span class="comment"># uname -m</span></span><br><span class="line">x86_64</span><br><span class="line"><span class="comment"># nginx -v</span></span><br><span class="line">nginx version: nginx/1.12.2</span><br></pre></td></tr></table></figure><h2 id="使用Certbot-ACME客户端配置"><a href="#使用Certbot-ACME客户端配置" class="headerlink" title="使用Certbot ACME客户端配置"></a>使用Certbot ACME客户端配置</h2><p><strong>第一步：选择软件及操作系统版本</strong><br><a href="https://certbot.eff.org/" target="_blank" rel="noopener">https://certbot.eff.org/</a><br>根据提示选择Web服务器软件及操作系统版本<br><img src="/archives/78579e83/01.png" alt=""><br><strong>第二步：设置域名解析</strong><br>使用工具配置证书时需要域名可以被正确解析到，请提前做好域名解析。<br><strong>第三步：安装Certbot tools及配置</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># yum install certbot-nginx</span></span><br><span class="line"><span class="comment"># certbot --nginx                     # 获取证书及配置nginx</span></span><br><span class="line"><span class="comment"># certbot --nginx certonly            # 只生成证书不自动配置nginx</span></span><br><span class="line"><span class="comment"># certbot renew --dry-run             # 重新获取证书</span></span><br><span class="line"><span class="comment"># cd /etc/letsencrypt/live/www.cwquery.com</span></span><br><span class="line"><span class="comment"># ls -l</span></span><br><span class="line">total 4</span><br><span class="line">lrwxrwxrwx 1 root root  39 Mar  8 14:07 cert.pem -&gt; ../../archive/www.cwquery.com/cert1.pem</span><br><span class="line">lrwxrwxrwx 1 root root  40 Mar  8 14:07 chain.pem -&gt; ../../archive/www.cwquery.com/chain1.pem</span><br><span class="line">lrwxrwxrwx 1 root root  44 Mar  8 14:07 fullchain.pem -&gt; ../../archive/www.cwquery.com/fullchain1.pem</span><br><span class="line">lrwxrwxrwx 1 root root  42 Mar  8 14:07 privkey.pem -&gt; ../../archive/www.cwquery.com/privkey1.pem</span><br><span class="line">-rw-r--r-- 1 root root 543 Mar  8 14:07 README</span><br><span class="line">This directory contains your keys and certificates.</span><br><span class="line"></span><br><span class="line">`privkey.pem`  : the private key <span class="keyword">for</span> your certificate.</span><br><span class="line">`fullchain.pem`: the certificate file used <span class="keyword">in</span> most server software.</span><br><span class="line">`chain.pem`    : used <span class="keyword">for</span> OCSP stapling <span class="keyword">in</span> Nginx &gt;=1.3.7.</span><br><span class="line">`cert.pem`     : will <span class="built_in">break</span> many server configurations, and should not be used</span><br><span class="line">                 without reading further documentation (see link below).</span><br><span class="line"></span><br><span class="line">We recommend not moving these files. For more information, see the Certbot</span><br><span class="line">User Guide at https://certbot.eff.org/docs/using.html<span class="comment">#where-are-my-certificates.</span></span><br></pre></td></tr></table></figure></p><p>配置nginx如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">    server &#123;</span><br><span class="line">        server_name www.cwquery.com; # managed by Certbot</span><br><span class="line">        listen [::]:443 ssl ipv6only=on; # managed by Certbot</span><br><span class="line">        listen 443 ssl; # managed by Certbot</span><br><span class="line">        ssl_certificate /etc/letsencrypt/live/www.cwquery.com/fullchain.pem; # managed by Certbot</span><br><span class="line">        ssl_certificate_key /etc/letsencrypt/live/www.cwquery.com/privkey.pem; # managed by Certbot</span><br><span class="line">        include /etc/letsencrypt/options-ssl-nginx.conf; # managed by Certbot</span><br><span class="line">        ssl_dhparam /etc/letsencrypt/ssl-dhparams.pem; # managed by Certbot</span><br><span class="line"></span><br><span class="line">        set $rootdir         /usr/share/nginx/html;</span><br><span class="line"></span><br><span class="line">        if ($remote_addr ~ &quot;123.124.197.100&quot;) &#123;</span><br><span class="line">            set $rootdir &quot;/usr/share/nginx/test&quot;;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        # Load configuration files for the default server block.</span><br><span class="line">        include /etc/nginx/default.d/*.conf;</span><br><span class="line"></span><br><span class="line">        location / &#123;</span><br><span class="line">            root $rootdir;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        error_page 404 /404.html;</span><br><span class="line">            location = /40x.html &#123;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        error_page 500 502 503 504 /50x.html;</span><br><span class="line">            location = /50x.html &#123;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">    server &#123;</span><br><span class="line">    if ($host = www.cwquery.com) &#123;</span><br><span class="line">        return 301 https://$host$request_uri;</span><br><span class="line">    &#125; # managed by Certbot</span><br><span class="line"></span><br><span class="line">    server_name www.cwquery.com;</span><br><span class="line">    return 404; # managed by Certbot</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p><strong>第四步：设置定时重新获取证书</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">0 0,12 * * * python -c <span class="string">'import random; import time; time.sleep(random.random() * 3600)'</span> &amp;&amp; certbot renew</span><br></pre></td></tr></table></figure></p><h2 id="效果展示"><a href="#效果展示" class="headerlink" title="效果展示"></a>效果展示</h2><p>谷歌浏览器测试<br><img src="/archives/78579e83/03.png" alt=""><br>证书信息<br><img src="/archives/78579e83/02.png" alt=""></p><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>通过以上几个步骤的学习和应用，我们肯定学会了利用Let’s Encrypt免费生成和获取SSL证书文件，随着Let’s Encrypt的应用普及，SSL以后直接免费不需要购买，因为大部分主流浏览器都支持且有更多的主流商家的支持和赞助，HTTPS以后看来也是趋势。在Let’s Encrypt执行过程在中我们需要解决几个问题。<br>1、域名DNS和解析问题。在配置Let’s Encrypt免费SSL证书的时候域名一定要解析到当前服务器，而且DNS尽量用海外域名DNS，如果用国内免费DNS可能会导致获取不到错误。<br>2、Let’s Encrypt默认是90天免费，需要手工或者自动续期才可以继续使用</p><h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><p><a href="https://letsencrypt.org/" target="_blank" rel="noopener">https://letsencrypt.org/</a><br><a href="https://certbot.eff.org/" target="_blank" rel="noopener">https://certbot.eff.org/</a></p><p>======================================================<br>希望各位朋友支持一下</p><ul><li>领取我的<a href="https://promotion.aliyun.com/ntms/act/ambassador/sharetouser.html?userCode=xpdsz87p&amp;utm_source=xpdsz87p" target="_blank" rel="noopener">阿里云幸运券</a>,谢谢.</li><li>使用<a href="https://cloud.tencent.com/redirect.php?redirect=1005&amp;cps_key=5a162632de40024cd01aabff4d3f1370" target="_blank" rel="noopener">腾讯云资源</a></li><li>自己的网站承接广告<a href="http://www.sudianlm.com/track/c/?rid=2056" target="_blank" rel="noopener">速点广告联盟</a></li><li>广告位招商QQ:1455975151</li><li>喜欢购物的朋友可以看看，<a href="http://www.1zhe.com/yq/1066027" target="_blank" rel="noopener">一折特卖</a><!--注册一折特卖，免费领集分宝，集分宝可以当钱花，免费购物不是梦，注册马上送你10集分宝。--></li></ul><p><strong>本文作者</strong>：dongsheng<br><strong>本文地址</strong>： <a href="https://mds1455975151.github.io/archives/78579e83.html">https://mds1455975151.github.io/archives/78579e83.html</a> <br><strong>版权声明</strong>：转载请注明出处！</p>]]></content>
    
    <summary type="html">
    
      使用LetsEncrypt配置网站https
    
    </summary>
    
      <category term="Linux运维" scheme="https://mds1455975151.github.io/categories/Linux%E8%BF%90%E7%BB%B4/"/>
    
    
      <category term="https" scheme="https://mds1455975151.github.io/tags/https/"/>
    
      <category term="LetsEncrypt" scheme="https://mds1455975151.github.io/tags/LetsEncrypt/"/>
    
      <category term="免费SSL证书" scheme="https://mds1455975151.github.io/tags/%E5%85%8D%E8%B4%B9SSL%E8%AF%81%E4%B9%A6/"/>
    
  </entry>
  
  <entry>
    <title>Nginx之使用Nginx实现灰度发布</title>
    <link href="https://mds1455975151.github.io/archives/8bece5b5.html"/>
    <id>https://mds1455975151.github.io/archives/8bece5b5.html</id>
    <published>2018-03-08T03:26:20.000Z</published>
    <updated>2018-03-08T04:45:53.631Z</updated>
    
    <content type="html"><![CDATA[<script src="\assets\js\APlayer.min.js"> </script><blockquote><p>使用Nginx实现灰度发布</p></blockquote><a id="more"></a><h1 id="灰度发布概述"><a href="#灰度发布概述" class="headerlink" title="灰度发布概述"></a>灰度发布概述</h1><p>灰度发布是指在黑与白之间，能够平滑过渡的一种发布方式。AB test就是一种灰度发布方式，让一部分用户继续用A，一部分用户开始用B，如果用户对B没有什么反对意见，那么逐步扩大范围，把所有用户都迁移到B上面来。<br>灰度发布可以保证整体系统的稳定，在初始灰度的时候就可以发现、调整问题，以保证其影响度。<br>灰度发布常见一般有三种方式:</p><ul><li>Nginx+LUA方式</li><li>根据Cookie实现灰度发布</li><li>根据来路IP实现灰度发布</li></ul><p>本文主要将讲解根据Cookie和来路IP这两种方式实现简单的灰度发布。</p><h1 id="部署实践"><a href="#部署实践" class="headerlink" title="部署实践"></a>部署实践</h1><h2 id="环境说明"><a href="#环境说明" class="headerlink" title="环境说明"></a>环境说明</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># cat /etc/redhat-release</span></span><br><span class="line">CentOS Linux release 7.4.1708 (Core)</span><br><span class="line"><span class="comment"># uname -r</span></span><br><span class="line">3.10.0-693.el7.x86_64</span><br><span class="line"><span class="comment"># uname -m</span></span><br><span class="line">x86_64</span><br><span class="line"><span class="comment"># nginx -v</span></span><br><span class="line">nginx version: nginx/1.12.2</span><br></pre></td></tr></table></figure><h2 id="基于IP地址的灰度发布实现"><a href="#基于IP地址的灰度发布实现" class="headerlink" title="基于IP地址的灰度发布实现"></a>基于IP地址的灰度发布实现</h2><p><strong>根据IP地址反向代理到不同的后端server</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">upstream prod &#123;</span><br><span class="line">    server 192.168.1.10;</span><br><span class="line">    server 192.168.1.11;</span><br><span class="line">&#125;</span><br><span class="line">upstream pre-prod &#123;</span><br><span class="line">    server 192.168.1.100;</span><br><span class="line">&#125;</span><br><span class="line">server &#123;</span><br><span class="line">    listen 80;</span><br><span class="line">    access_log /var/<span class="built_in">log</span>/nginx/access.log main;</span><br><span class="line">    <span class="built_in">set</span> <span class="variable">$web_backend</span> prod;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable">$remote_addr</span> ~ <span class="string">"123.123.123.123"</span>) &#123;</span><br><span class="line">        <span class="built_in">set</span> <span class="variable">$web_backend</span> pre-prod;</span><br><span class="line">    &#125;</span><br><span class="line">    location / &#123;</span><br><span class="line">        proxy_pass http://<span class="variable">$web_backend</span>;</span><br><span class="line">        include proxy.conf;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p><strong>根据IP地址设置不同的网站根目录</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">    listen 80;</span><br><span class="line">    access_log /var/log/nginx/access.log main;</span><br><span class="line">    set $rootdir &quot;/var/www/html&quot;;</span><br><span class="line">    if ($remote_addr ~ &quot;123.123.123.123&quot;) &#123;</span><br><span class="line">        set $rootdir &quot;/var/www/test&quot;;</span><br><span class="line">    &#125;</span><br><span class="line">    location / &#123;</span><br><span class="line">        root $rootdir;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><blockquote><p>set 命令依赖rewrite模块</p></blockquote><p><strong>利用geoip做基于地理位置的灰度发布</strong><br>参考：<a href="http://www.mamicode.com/info-detail-1477149.html" target="_blank" rel="noopener">http://www.mamicode.com/info-detail-1477149.html</a></p><h2 id="基于cookie的灰度发布实现"><a href="#基于cookie的灰度发布实现" class="headerlink" title="基于cookie的灰度发布实现"></a>基于cookie的灰度发布实现</h2><p><strong>if指令实现</strong><br><strong>map指令实现</strong><br>参考：<a href="https://www.cnblogs.com/weifeng1463/p/7353710.html" target="_blank" rel="noopener">https://www.cnblogs.com/weifeng1463/p/7353710.html</a></p><h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><p><a href="https://www.cnblogs.com/weifeng1463/p/7353710.html" target="_blank" rel="noopener">https://www.cnblogs.com/weifeng1463/p/7353710.html</a><br><a href="https://www.cnblogs.com/zhangyin6985/p/6064350.html" target="_blank" rel="noopener">https://www.cnblogs.com/zhangyin6985/p/6064350.html</a></p><p>======================================================<br>希望各位朋友支持一下</p><ul><li>领取我的<a href="https://promotion.aliyun.com/ntms/act/ambassador/sharetouser.html?userCode=xpdsz87p&amp;utm_source=xpdsz87p" target="_blank" rel="noopener">阿里云幸运券</a>,谢谢.</li><li>使用<a href="https://cloud.tencent.com/redirect.php?redirect=1005&amp;cps_key=5a162632de40024cd01aabff4d3f1370" target="_blank" rel="noopener">腾讯云资源</a></li><li>自己的网站承接广告<a href="http://www.sudianlm.com/track/c/?rid=2056" target="_blank" rel="noopener">速点广告联盟</a></li><li>广告位招商QQ:1455975151</li><li>喜欢购物的朋友可以看看，<a href="http://www.1zhe.com/yq/1066027" target="_blank" rel="noopener">一折特卖</a><!--注册一折特卖，免费领集分宝，集分宝可以当钱花，免费购物不是梦，注册马上送你10集分宝。--></li></ul><p><strong>本文作者</strong>：dongsheng<br><strong>本文地址</strong>： <a href="https://mds1455975151.github.io/archives/8bece5b5.html">https://mds1455975151.github.io/archives/8bece5b5.html</a> <br><strong>版权声明</strong>：转载请注明出处！</p>]]></content>
    
    <summary type="html">
    
      使用Nginx实现灰度发布
    
    </summary>
    
      <category term="Linux运维" scheme="https://mds1455975151.github.io/categories/Linux%E8%BF%90%E7%BB%B4/"/>
    
    
      <category term="Nginx" scheme="https://mds1455975151.github.io/tags/Nginx/"/>
    
      <category term="灰度发布" scheme="https://mds1455975151.github.io/tags/%E7%81%B0%E5%BA%A6%E5%8F%91%E5%B8%83/"/>
    
  </entry>
  
  <entry>
    <title>VMware之文件共享</title>
    <link href="https://mds1455975151.github.io/archives/534d4a72.html"/>
    <id>https://mds1455975151.github.io/archives/534d4a72.html</id>
    <published>2018-03-04T05:51:07.000Z</published>
    <updated>2018-03-05T02:55:05.554Z</updated>
    
    <content type="html"><![CDATA[<script src="\assets\js\APlayer.min.js"> </script><blockquote><p>VMware之文件共享</p></blockquote><a id="more"></a><h1 id="应用场景"><a href="#应用场景" class="headerlink" title="应用场景"></a>应用场景</h1><p>1、宿主机与虚拟机之间的文件共享<br>2、推广Docker服务，搭建Docker测试环境，将window下的代码共享到Linux虚拟机中使用</p><h1 id="操作实践"><a href="#操作实践" class="headerlink" title="操作实践"></a>操作实践</h1><h2 id="Linux环境"><a href="#Linux环境" class="headerlink" title="Linux环境"></a>Linux环境</h2><h3 id="环境说明"><a href="#环境说明" class="headerlink" title="环境说明"></a>环境说明</h3><p><strong>VMware版本</strong><br>VMware® Workstation 12 Pro<br>12.5.7 build-5813279</p><p><strong>虚拟机版本</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># cat /etc/redhat-release</span></span><br><span class="line">CentOS Linux release 7.4.1708 (Core)</span><br><span class="line"><span class="comment"># uname -r</span></span><br><span class="line">3.10.0-693.el7.x86_64</span><br><span class="line"><span class="comment"># uname -m</span></span><br><span class="line">x86_64</span><br></pre></td></tr></table></figure></p><h3 id="安装VMware-Tools"><a href="#安装VMware-Tools" class="headerlink" title="安装VMware Tools"></a>安装VMware Tools</h3><p>1、虚拟机工具栏–&gt;虚拟机–&gt;安装VMware Tools(VMware将会把工具ios挂载到虚拟机上)<br>2、安装工具<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># mkdir /mnt/cdrom</span></span><br><span class="line"><span class="comment"># mount /dev/cdrom /mnt/cdrom</span></span><br><span class="line"><span class="comment"># cd /mnt/cdrom</span></span><br><span class="line"><span class="comment"># mkdir /usr/local/vm-src</span></span><br><span class="line"><span class="comment"># cp VMwareTools-10.0.5-3228253.tar.gz /usr/local/vm-src</span></span><br><span class="line"><span class="comment"># cd /usr/local/vm-src</span></span><br><span class="line"><span class="comment"># tar zxvf VMwareTools-10.0.5-3228253.tar.gz</span></span><br><span class="line"><span class="comment"># cd vmware-tools-distrib</span></span><br><span class="line"><span class="comment"># ./vmware-install.pl   # 一路回车即可</span></span><br></pre></td></tr></table></figure></p><p>3、虚拟机设置共享文件夹<br><img src="/archives/534d4a72/01.png" alt=""><br>4、虚拟机中查看并挂载共享目录<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@docker-centos ~]<span class="comment"># vmware-hgfsclient</span></span><br><span class="line">code</span><br><span class="line">[root@docker-centos ~]<span class="comment"># mkdir /mnt/win</span></span><br><span class="line">[root@docker-centos ~]<span class="comment"># vmhgfs-fuse .host:/ /mnt/win -o subtype=vmhgfs-fuse,allow_other</span></span><br><span class="line">[root@docker-centos ~]<span class="comment"># cd /mnt/win/code/</span></span><br><span class="line">[root@docker-centos code]<span class="comment"># ll</span></span><br><span class="line">total 1</span><br><span class="line">-rwxrwxrwx 1 root root 1 Mar  3 14:05 code.txt</span><br></pre></td></tr></table></figure></p><h2 id="Window环境"><a href="#Window环境" class="headerlink" title="Window环境"></a>Window环境</h2><p>略</p><h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><p><a href="https://www.linuxidc.com/Linux/2017-04/142897.htm" target="_blank" rel="noopener">https://www.linuxidc.com/Linux/2017-04/142897.htm</a></p><p>======================================================<br>希望各位朋友支持一下</p><ul><li>领取我的<a href="https://promotion.aliyun.com/ntms/act/ambassador/sharetouser.html?userCode=xpdsz87p&amp;utm_source=xpdsz87p" target="_blank" rel="noopener">阿里云幸运券</a>,谢谢.</li><li>使用<a href="https://cloud.tencent.com/redirect.php?redirect=1005&amp;cps_key=5a162632de40024cd01aabff4d3f1370" target="_blank" rel="noopener">腾讯云资源</a></li><li>自己的网站承接广告<a href="http://www.sudianlm.com/track/c/?rid=2056" target="_blank" rel="noopener">速点广告联盟</a></li><li>广告位招商QQ:1455975151</li><li>喜欢购物的朋友可以看看，<a href="http://www.1zhe.com/yq/1066027" target="_blank" rel="noopener">一折特卖</a><!--注册一折特卖，免费领集分宝，集分宝可以当钱花，免费购物不是梦，注册马上送你10集分宝。--></li></ul><p><strong>本文作者</strong>：dongsheng<br><strong>本文地址</strong>： <a href="https://mds1455975151.github.io/archives/534d4a72.html">https://mds1455975151.github.io/archives/534d4a72.html</a> <br><strong>版权声明</strong>：转载请注明出处！</p>]]></content>
    
    <summary type="html">
    
      VMware之文件共享
    
    </summary>
    
      <category term="Linux运维" scheme="https://mds1455975151.github.io/categories/Linux%E8%BF%90%E7%BB%B4/"/>
    
    
      <category term="VMware" scheme="https://mds1455975151.github.io/tags/VMware/"/>
    
      <category term="文件共享" scheme="https://mds1455975151.github.io/tags/%E6%96%87%E4%BB%B6%E5%85%B1%E4%BA%AB/"/>
    
  </entry>
  
  <entry>
    <title>Python之虚拟环境</title>
    <link href="https://mds1455975151.github.io/archives/70f31043.html"/>
    <id>https://mds1455975151.github.io/archives/70f31043.html</id>
    <published>2018-03-02T09:44:21.000Z</published>
    <updated>2018-03-02T10:05:16.558Z</updated>
    
    <content type="html"><![CDATA[<script src="\assets\js\APlayer.min.js"> </script><blockquote><p>Python之虚拟环境</p></blockquote><a id="more"></a><h1 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h1><p>virtualenv可以搭建虚拟且独立的python运行环境, 使得单个项目的运行环境与其它项目独立起来.</p><h1 id="项目实践"><a href="#项目实践" class="headerlink" title="项目实践"></a>项目实践</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">[root@linux-node8 ~]<span class="comment"># pip install virtualenv</span></span><br><span class="line">Collecting virtualenv</span><br><span class="line">  Downloading virtualenv-15.1.0-py2.py3-none-any.whl (1.8MB)</span><br><span class="line">    100% |████████████████████████████████| 1.8MB 600kB/s</span><br><span class="line">Installing collected packages: virtualenv</span><br><span class="line">Successfully installed virtualenv-15.1.0</span><br><span class="line">[root@linux-node8 ~]<span class="comment"># virtualenv test1              # 创建虚拟环境</span></span><br><span class="line">New python executable <span class="keyword">in</span> /root/test1/bin/python2</span><br><span class="line">Also creating executable <span class="keyword">in</span> /root/test1/bin/python</span><br><span class="line">Installing setuptools, pip, wheel...done.</span><br><span class="line">[root@linux-node8 ~]<span class="comment"># source test1/bin/activate     # 进入虚拟环境目录</span></span><br><span class="line">(test1) [root@linux-node8 ~]<span class="comment"># ls -l</span></span><br><span class="line">total 8</span><br><span class="line">-rw-------. 1 root root 1086 Feb 26  2017 anaconda-ks.cfg</span><br><span class="line">-rw-r--r--  1 root root  424 Mar  2 04:43 requirements.txt</span><br><span class="line">drwxr-xr-x  5 root root   77 Mar  2 04:57 test1</span><br><span class="line">(test1) [root@linux-node8 ~]<span class="comment"># deactivate          # 退出虚拟环境</span></span><br><span class="line">[root@linux-node8 ~]<span class="comment">#</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[root@linux-node8 ~]<span class="comment"># virtualenv --system-site-packages test2   # 默认情况下, 虚拟环境中不包括系统的site-packages, 若要使用请添加参数</span></span><br><span class="line">New python executable <span class="keyword">in</span> /root/test2/bin/python2</span><br><span class="line">Also creating executable <span class="keyword">in</span> /root/test2/bin/python</span><br><span class="line">Installing setuptools, pip, wheel...done.</span><br><span class="line">[root@linux-node8 ~]<span class="comment"># source test2/bin/activate</span></span><br><span class="line">(test2) [root@linux-node8 ~]<span class="comment"># pip freeze &gt;1.txt</span></span><br><span class="line">(test2) [root@linux-node8 ~]<span class="comment"># cat 1.txt</span></span><br><span class="line">backports.ssl-match-hostname==3.4.0.2</span><br><span class="line">chardet==2.2.1</span><br><span class="line">configobj==4.7.2</span><br><span class="line">.............</span><br><span class="line">urlgrabber==3.10</span><br><span class="line">virtualenv==15.1.0</span><br><span class="line">yum-metadata-parser==1.1.4</span><br><span class="line">(test2) [root@linux-node8 ~]<span class="comment"># deactivate</span></span><br></pre></td></tr></table></figure><h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><p>1、官网资料：<a href="https://virtualenv.pypa.io/en/stable/" target="_blank" rel="noopener">https://virtualenv.pypa.io/en/stable/</a></p><p>======================================================<br>希望各位朋友支持一下</p><ul><li>领取我的<a href="https://promotion.aliyun.com/ntms/act/ambassador/sharetouser.html?userCode=xpdsz87p&amp;utm_source=xpdsz87p" target="_blank" rel="noopener">阿里云幸运券</a>,谢谢.</li><li>使用<a href="https://cloud.tencent.com/redirect.php?redirect=1005&amp;cps_key=5a162632de40024cd01aabff4d3f1370" target="_blank" rel="noopener">腾讯云资源</a></li><li>自己的网站承接广告<a href="http://www.sudianlm.com/track/c/?rid=2056" target="_blank" rel="noopener">速点广告联盟</a></li><li>广告位招商QQ:1455975151</li><li>喜欢购物的朋友可以看看，<a href="http://www.1zhe.com/yq/1066027" target="_blank" rel="noopener">一折特卖</a><!--注册一折特卖，免费领集分宝，集分宝可以当钱花，免费购物不是梦，注册马上送你10集分宝。--></li></ul><p><strong>本文作者</strong>：dongsheng<br><strong>本文地址</strong>： <a href="https://mds1455975151.github.io/archives/70f31043.html">https://mds1455975151.github.io/archives/70f31043.html</a> <br><strong>版权声明</strong>：转载请注明出处！</p>]]></content>
    
    <summary type="html">
    
      Python之虚拟环境
    
    </summary>
    
      <category term="自动化开发" scheme="https://mds1455975151.github.io/categories/%E8%87%AA%E5%8A%A8%E5%8C%96%E5%BC%80%E5%8F%91/"/>
    
    
      <category term="Python" scheme="https://mds1455975151.github.io/tags/Python/"/>
    
      <category term="虚拟环境" scheme="https://mds1455975151.github.io/tags/%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83/"/>
    
      <category term="virtualenv" scheme="https://mds1455975151.github.io/tags/virtualenv/"/>
    
  </entry>
  
  <entry>
    <title>Python之项目依赖包管理</title>
    <link href="https://mds1455975151.github.io/archives/ba45f1d3.html"/>
    <id>https://mds1455975151.github.io/archives/ba45f1d3.html</id>
    <published>2018-03-02T09:41:26.000Z</published>
    <updated>2018-03-02T09:52:31.759Z</updated>
    
    <content type="html"><![CDATA[<script src="\assets\js\APlayer.min.js"> </script><blockquote><p>Python之项目依赖包管理</p></blockquote><a id="more"></a><h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><blockquote><p>Python项目会涉及到各种依赖包的安装问题，如果环境改变如何快速将所有依赖的包记录下来并快速的在新环境中安装好？以下我们来解决这个问题。</p></blockquote><h1 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h1><h2 id="生成现有环境依赖包列表"><a href="#生成现有环境依赖包列表" class="headerlink" title="生成现有环境依赖包列表"></a>生成现有环境依赖包列表</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@linux-node8 ~]<span class="comment"># pip freeze &gt;requirements.txt</span></span><br><span class="line">[root@linux-node8 ~]<span class="comment"># cat requirements.txt</span></span><br><span class="line">backports.ssl-match-hostname==3.4.0.2</span><br><span class="line">chardet==2.2.1</span><br><span class="line">configobj==4.7.2</span><br><span class="line">decorator==3.4.0</span><br><span class="line">iniparse==0.4</span><br></pre></td></tr></table></figure><h2 id="新环境快速安装项目依赖包"><a href="#新环境快速安装项目依赖包" class="headerlink" title="新环境快速安装项目依赖包"></a>新环境快速安装项目依赖包</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@linux-node8 ~]<span class="comment"># pip install -r requirements.txt</span></span><br></pre></td></tr></table></figure><h2 id="相关参数说明"><a href="#相关参数说明" class="headerlink" title="相关参数说明"></a>相关参数说明</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">pip freeze</span><br><span class="line">即：Output installed packages <span class="keyword">in</span> requirements format.</span><br><span class="line">pip install -r requirements.txt：</span><br><span class="line">即：-r, --requirement &lt;file&gt;    Install from the given requirements file. This option can be used multiple <span class="built_in">times</span>.</span><br></pre></td></tr></table></figure><h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><p>======================================================<br>希望各位朋友支持一下</p><ul><li>领取我的<a href="https://promotion.aliyun.com/ntms/act/ambassador/sharetouser.html?userCode=xpdsz87p&amp;utm_source=xpdsz87p" target="_blank" rel="noopener">阿里云幸运券</a>,谢谢.</li><li>使用<a href="https://cloud.tencent.com/redirect.php?redirect=1005&amp;cps_key=5a162632de40024cd01aabff4d3f1370" target="_blank" rel="noopener">腾讯云资源</a></li><li>自己的网站承接广告<a href="http://www.sudianlm.com/track/c/?rid=2056" target="_blank" rel="noopener">速点广告联盟</a></li><li>广告位招商QQ:1455975151</li><li>喜欢购物的朋友可以看看，<a href="http://www.1zhe.com/yq/1066027" target="_blank" rel="noopener">一折特卖</a><!--注册一折特卖，免费领集分宝，集分宝可以当钱花，免费购物不是梦，注册马上送你10集分宝。--></li></ul><p><strong>本文作者</strong>：dongsheng<br><strong>本文地址</strong>： <a href="https://mds1455975151.github.io/archives/ba45f1d3.html">https://mds1455975151.github.io/archives/ba45f1d3.html</a> <br><strong>版权声明</strong>：转载请注明出处！</p>]]></content>
    
    <summary type="html">
    
      Python之项目依赖包管理
    
    </summary>
    
      <category term="自动化开发" scheme="https://mds1455975151.github.io/categories/%E8%87%AA%E5%8A%A8%E5%8C%96%E5%BC%80%E5%8F%91/"/>
    
    
      <category term="Python" scheme="https://mds1455975151.github.io/tags/Python/"/>
    
      <category term="依赖管理" scheme="https://mds1455975151.github.io/tags/%E4%BE%9D%E8%B5%96%E7%AE%A1%E7%90%86/"/>
    
  </entry>
  
  <entry>
    <title>Code-Review之Phabricator入门</title>
    <link href="https://mds1455975151.github.io/archives/ca47022b.html"/>
    <id>https://mds1455975151.github.io/archives/ca47022b.html</id>
    <published>2018-03-02T05:53:51.000Z</published>
    <updated>2018-03-02T10:10:35.446Z</updated>
    
    <content type="html"><![CDATA[<script src="\assets\js\APlayer.min.js"> </script><p>&gt;</p><a id="more"></a><h1 id="Phabricator简介"><a href="#Phabricator简介" class="headerlink" title="Phabricator简介"></a>Phabricator简介</h1><p><a href="https://phacility.com/" target="_blank" rel="noopener">官网地址</a></p><p>======================================================<br>希望各位朋友支持一下</p><ul><li>领取我的<a href="https://promotion.aliyun.com/ntms/act/ambassador/sharetouser.html?userCode=xpdsz87p&amp;utm_source=xpdsz87p" target="_blank" rel="noopener">阿里云幸运券</a>,谢谢.</li><li>使用<a href="https://cloud.tencent.com/redirect.php?redirect=1005&amp;cps_key=5a162632de40024cd01aabff4d3f1370" target="_blank" rel="noopener">腾讯云资源</a></li><li>自己的网站承接广告<a href="http://www.sudianlm.com/track/c/?rid=2056" target="_blank" rel="noopener">速点广告联盟</a></li><li>广告位招商QQ:1455975151</li><li>喜欢购物的朋友可以看看，<a href="http://www.1zhe.com/yq/1066027" target="_blank" rel="noopener">一折特卖</a><!--注册一折特卖，免费领集分宝，集分宝可以当钱花，免费购物不是梦，注册马上送你10集分宝。--></li></ul><p><strong>本文作者</strong>：dongsheng<br><strong>本文地址</strong>： <a href="https://mds1455975151.github.io/archives/ca47022b.html">https://mds1455975151.github.io/archives/ca47022b.html</a> <br><strong>版权声明</strong>：转载请注明出处！</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;gt;&lt;/p&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>配置管理工程师之技能需求</title>
    <link href="https://mds1455975151.github.io/archives/eee8f7af.html"/>
    <id>https://mds1455975151.github.io/archives/eee8f7af.html</id>
    <published>2018-03-02T05:14:54.000Z</published>
    <updated>2018-03-02T10:10:37.852Z</updated>
    
    <content type="html"><![CDATA[<script src="\assets\js\APlayer.min.js"> </script><blockquote><p>配置管理工程师之技能需求</p></blockquote><a id="more"></a><h1 id="配置管理概念"><a href="#配置管理概念" class="headerlink" title="配置管理概念"></a>配置管理概念</h1><p>配置管理（Configuration Management，CM）是通过技术或行政手段对软件产品及其开发过程和生命周期进行控制、规范的一系列措施。配置管理的目标是记录软件产品的演化过程，确保软件开发者在软件生命周期中各个阶段都能得到精确的产品配置。<br>更详细介绍，请点击<a href="https://baike.baidu.com/item/%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/10090499?fr=aladdin" target="_blank" rel="noopener">这里</a></p><h1 id="岗位职责及技能要求"><a href="#岗位职责及技能要求" class="headerlink" title="岗位职责及技能要求"></a>岗位职责及技能要求</h1><p>岗位职责：<br>1、负责制定合理的配置管理策略、制度、流程，并负责推广、培训和优化；<br>2、负责搭建、维护配置管理系统，负责公司产品的版本控制、构建与发布管理；<br>3、负责项目的基线管理、分支管理、版本管理、编译管理，发布管理、归档管理等工作；<br>4、持续跟进优化配置管理相关规范及流程，协助解决开发过程中发现的各种与配置相关问题。</p><p>技能要求：<br>1、熟悉配置管理理论方法，了解项目管理过程和产品开发过程，具备配置管理、变更管理、构建发布过程的实际经验（有持续集成环境配置经验优先）；<br>2、熟练使用SVN， git源码管理工具（有gitlab使用及相关工具配置经验优先）；<br>3、熟悉jenkins 持续集成相关工具（如果可以使用gitlab自带的runner等其他持续集成工具完成相应功能亦可）；<br>4、熟悉linux命令（centos使用者加分），可以编写简单的脚本与jenkins等持续集成工具共同完成自动化运维相关任务（可以在服务器安装配置各种开源软件产品如redis，hadoop技术栈，mongodb等加分）；<br>5、工作态度认真、责任心强、工作细心、有良好的沟通能力、能快速融入团队；<br>6、两年以上工作经验，有互联网产品配置管理经验的优先。</p><h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><p>======================================================<br>希望各位朋友支持一下</p><ul><li>领取我的<a href="https://promotion.aliyun.com/ntms/act/ambassador/sharetouser.html?userCode=xpdsz87p&amp;utm_source=xpdsz87p" target="_blank" rel="noopener">阿里云幸运券</a>,谢谢.</li><li>使用<a href="https://cloud.tencent.com/redirect.php?redirect=1005&amp;cps_key=5a162632de40024cd01aabff4d3f1370" target="_blank" rel="noopener">腾讯云资源</a></li><li>自己的网站承接广告<a href="http://www.sudianlm.com/track/c/?rid=2056" target="_blank" rel="noopener">速点广告联盟</a></li><li>广告位招商QQ:1455975151</li><li>喜欢购物的朋友可以看看，<a href="http://www.1zhe.com/yq/1066027" target="_blank" rel="noopener">一折特卖</a><!--注册一折特卖，免费领集分宝，集分宝可以当钱花，免费购物不是梦，注册马上送你10集分宝。--></li></ul><p><strong>本文作者</strong>：dongsheng<br><strong>本文地址</strong>： <a href="https://mds1455975151.github.io/archives/eee8f7af.html">https://mds1455975151.github.io/archives/eee8f7af.html</a> <br><strong>版权声明</strong>：转载请注明出处！</p>]]></content>
    
    <summary type="html">
    
      配置管理工程师之技能需求
    
    </summary>
    
      <category term="其他" scheme="https://mds1455975151.github.io/categories/%E5%85%B6%E4%BB%96/"/>
    
    
      <category term="配置管理" scheme="https://mds1455975151.github.io/tags/%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/"/>
    
  </entry>
  
  <entry>
    <title>Code-Review之Gerrit入门</title>
    <link href="https://mds1455975151.github.io/archives/fba2f6b5.html"/>
    <id>https://mds1455975151.github.io/archives/fba2f6b5.html</id>
    <published>2018-03-02T02:54:29.000Z</published>
    <updated>2018-03-02T03:05:07.804Z</updated>
    
    <content type="html"><![CDATA[<script src="\assets\js\APlayer.min.js"> </script><blockquote><p>Code-Review之Gerrit入门</p></blockquote><a id="more"></a><h1 id="Tutorial"><a href="#Tutorial" class="headerlink" title="Tutorial"></a>Tutorial</h1><h2 id="Getting-started"><a href="#Getting-started" class="headerlink" title="Getting started"></a>Getting started</h2><h3 id="A-Quick-Introduction-to-Gerrit"><a href="#A-Quick-Introduction-to-Gerrit" class="headerlink" title="A Quick Introduction to Gerrit"></a>A Quick Introduction to Gerrit</h3><p>Gerrit是一个机遇web的代码审查工具，构建在git版本控制系统的基础之上。<br><strong>What is Gerrit?</strong><br><strong>Where does Gerrit fit in?</strong></p><p>The Life and Times of a Change<br>Cloning the Repository<br>Creating the Review<br>Reviewing the Change<br>Reworking the Change<br>Trying out the Change<br>Manually Verifying the Change<br>Submitting the Change</p><h3 id="User-Guide"><a href="#User-Guide" class="headerlink" title="User Guide"></a>User Guide</h3><h3 id="Project-Owner-Guide"><a href="#Project-Owner-Guide" class="headerlink" title="Project Owner Guide"></a>Project Owner Guide</h3><h3 id="Default-Android-Workflow-external"><a href="#Default-Android-Workflow-external" class="headerlink" title="Default Android Workflow (external)"></a>Default Android Workflow (external)</h3><h2 id="Web"><a href="#Web" class="headerlink" title="Web"></a>Web</h2><p>======================================================<br>希望各位朋友支持一下</p><ul><li>领取我的<a href="https://promotion.aliyun.com/ntms/act/ambassador/sharetouser.html?userCode=xpdsz87p&amp;utm_source=xpdsz87p" target="_blank" rel="noopener">阿里云幸运券</a>,谢谢.</li><li>使用<a href="https://cloud.tencent.com/redirect.php?redirect=1005&amp;cps_key=5a162632de40024cd01aabff4d3f1370" target="_blank" rel="noopener">腾讯云资源</a></li><li>自己的网站承接广告<a href="http://www.sudianlm.com/track/c/?rid=2056" target="_blank" rel="noopener">速点广告联盟</a></li><li>广告位招商QQ:1455975151</li><li>喜欢购物的朋友可以看看，<a href="http://www.1zhe.com/yq/1066027" target="_blank" rel="noopener">一折特卖</a><!--注册一折特卖，免费领集分宝，集分宝可以当钱花，免费购物不是梦，注册马上送你10集分宝。--></li></ul><p><strong>本文作者</strong>：dongsheng<br><strong>本文地址</strong>： <a href="https://mds1455975151.github.io/archives/fba2f6b5.html">https://mds1455975151.github.io/archives/fba2f6b5.html</a> <br><strong>版权声明</strong>：转载请注明出处！</p>]]></content>
    
    <summary type="html">
    
      Code-Review之Gerrit入门
    
    </summary>
    
      <category term="Linux运维" scheme="https://mds1455975151.github.io/categories/Linux%E8%BF%90%E7%BB%B4/"/>
    
    
      <category term="Code-Review" scheme="https://mds1455975151.github.io/tags/Code-Review/"/>
    
      <category term="Gerrit" scheme="https://mds1455975151.github.io/tags/Gerrit/"/>
    
  </entry>
  
  <entry>
    <title>Foreman使用体验</title>
    <link href="https://mds1455975151.github.io/archives/4e0578ac.html"/>
    <id>https://mds1455975151.github.io/archives/4e0578ac.html</id>
    <published>2018-02-27T09:11:15.000Z</published>
    <updated>2018-02-27T09:37:40.639Z</updated>
    
    <content type="html"><![CDATA[<script src="\assets\js\APlayer.min.js"> </script><blockquote><p>Foreman使用体验</p></blockquote><a id="more"></a><h1 id="Foreman简介"><a href="#Foreman简介" class="headerlink" title="Foreman简介"></a>Foreman简介</h1><blockquote><p>Foreman is a complete lifecycle management tool for physical and virtual servers. We give system administrators the power to easily automate repetitive tasks, quickly deploy applications, and proactively manage servers, on-premise or in the cloud.</p></blockquote><p>官网地址：<a href="https://theforeman.org/" target="_blank" rel="noopener">https://theforeman.org/</a><br>文档地址：<a href="https://theforeman.org/manuals/1.16/index.html" target="_blank" rel="noopener">https://theforeman.org/manuals/1.16/index.html</a></p><h1 id="环境说明"><a href="#环境说明" class="headerlink" title="环境说明"></a>环境说明</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@linux-node8 ~]<span class="comment"># cat /etc/redhat-release</span></span><br><span class="line">CentOS Linux release 7.2.1511 (Core)</span><br><span class="line">[root@linux-node8 ~]<span class="comment"># uname -r</span></span><br><span class="line">3.10.0-327.el7.x86_64</span><br><span class="line">[root@linux-node8 ~]<span class="comment"># uname -m</span></span><br><span class="line">x86_64</span><br></pre></td></tr></table></figure><h1 id="部署实践"><a href="#部署实践" class="headerlink" title="部署实践"></a>部署实践</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[root@linux-node8 ~]<span class="comment"># yum -y install https://yum.puppetlabs.com/puppet5/puppet5-release-el-7.noarch.rpm</span></span><br><span class="line">[root@linux-node8 ~]<span class="comment"># yum -y install http://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm</span></span><br><span class="line">[root@linux-node8 ~]<span class="comment"># yum -y install https://yum.theforeman.org/releases/1.16/el7/x86_64/foreman-release.rpm</span></span><br><span class="line">[root@linux-node8 ~]<span class="comment"># yum -y install foreman-installer</span></span><br><span class="line">[root@linux-node8 ~]<span class="comment"># foreman-installer</span></span><br><span class="line">Installing             Done                                               [100%] [...............................................................................................]</span><br><span class="line">  Success!</span><br><span class="line">  * Foreman is running at https://linux-node8.example.com</span><br><span class="line">      Initial credentials are admin / JSkjTzSsVSZWXTJ4</span><br><span class="line">  * Foreman Proxy is running at https://linux-node8.example.com:8443</span><br><span class="line">  * Puppetmaster is running at port 8140</span><br><span class="line">  The full <span class="built_in">log</span> is at /var/<span class="built_in">log</span>/foreman-installer/foreman.log</span><br></pre></td></tr></table></figure><p>登录界面<br><img src="/archives/4e0578ac/01.png" alt=""><br>登录后首页<br><img src="/archives/4e0578ac/02.png" alt=""></p><h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><p><a href="https://martinliu.cn/2015/06/16/e59ca8-rhel-7-e4b88ae5ae89e8a385-foreman-1-8/" target="_blank" rel="noopener">https://martinliu.cn/2015/06/16/e59ca8-rhel-7-e4b88ae5ae89e8a385-foreman-1-8/</a></p><p>======================================================<br>希望各位朋友支持一下</p><ul><li>领取我的<a href="https://promotion.aliyun.com/ntms/act/ambassador/sharetouser.html?userCode=xpdsz87p&amp;utm_source=xpdsz87p" target="_blank" rel="noopener">阿里云幸运券</a>,谢谢.</li><li>使用<a href="https://cloud.tencent.com/redirect.php?redirect=1005&amp;cps_key=5a162632de40024cd01aabff4d3f1370" target="_blank" rel="noopener">腾讯云资源</a></li><li>自己的网站承接广告<a href="http://www.sudianlm.com/track/c/?rid=2056" target="_blank" rel="noopener">速点广告联盟</a></li><li>广告位招商QQ:1455975151</li><li>喜欢购物的朋友可以看看，<a href="http://www.1zhe.com/yq/1066027" target="_blank" rel="noopener">一折特卖</a><!--注册一折特卖，免费领集分宝，集分宝可以当钱花，免费购物不是梦，注册马上送你10集分宝。--></li></ul><p><strong>本文作者</strong>：dongsheng<br><strong>本文地址</strong>： <a href="https://mds1455975151.github.io/archives/4e0578ac.html">https://mds1455975151.github.io/archives/4e0578ac.html</a> <br><strong>版权声明</strong>：转载请注明出处！</p>]]></content>
    
    <summary type="html">
    
      Foreman使用体验
    
    </summary>
    
      <category term="Linux运维" scheme="https://mds1455975151.github.io/categories/Linux%E8%BF%90%E7%BB%B4/"/>
    
    
      <category term="Foreman" scheme="https://mds1455975151.github.io/tags/Foreman/"/>
    
  </entry>
  
  <entry>
    <title>如何减压？</title>
    <link href="https://mds1455975151.github.io/archives/c9789322.html"/>
    <id>https://mds1455975151.github.io/archives/c9789322.html</id>
    <published>2018-02-27T08:35:16.000Z</published>
    <updated>2018-02-27T09:01:03.038Z</updated>
    
    <content type="html"><![CDATA[<script src="\assets\js\APlayer.min.js"> </script><blockquote><p>如何面对压力？如何减压？</p></blockquote><a id="more"></a><p>知乎减压话题：<a href="https://www.zhihu.com/search?type=content&amp;q=%E5%A6%82%E4%BD%95%E5%87%8F%E5%8E%8B" target="_blank" rel="noopener">https://www.zhihu.com/search?type=content&amp;q=%E5%A6%82%E4%BD%95%E5%87%8F%E5%8E%8B</a><br>工作压力大的时候如何得到内心的平静：<a href="https://www.zhihu.com/question/22177438" target="_blank" rel="noopener">https://www.zhihu.com/question/22177438</a><br>压力过大首要因素就是对未来即将发生的事情过度的担忧。。。。<br>压在中国人身上的4座大山：1.房子 2.婚姻 3.孩子 4.野心。</p><p>合适自己的减压方式：</p><ul><li>爬山</li><li>跑步</li><li>收拾房间</li><li>音乐</li><li>电影</li></ul><p>======================================================<br>希望各位朋友支持一下</p><ul><li>领取我的<a href="https://promotion.aliyun.com/ntms/act/ambassador/sharetouser.html?userCode=xpdsz87p&amp;utm_source=xpdsz87p" target="_blank" rel="noopener">阿里云幸运券</a>,谢谢.</li><li>使用<a href="https://cloud.tencent.com/redirect.php?redirect=1005&amp;cps_key=5a162632de40024cd01aabff4d3f1370" target="_blank" rel="noopener">腾讯云资源</a></li><li>自己的网站承接广告<a href="http://www.sudianlm.com/track/c/?rid=2056" target="_blank" rel="noopener">速点广告联盟</a></li><li>广告位招商QQ:1455975151</li><li>喜欢购物的朋友可以看看，<a href="http://www.1zhe.com/yq/1066027" target="_blank" rel="noopener">一折特卖</a><!--注册一折特卖，免费领集分宝，集分宝可以当钱花，免费购物不是梦，注册马上送你10集分宝。--></li></ul><p><strong>本文作者</strong>：dongsheng<br><strong>本文地址</strong>： <a href="https://mds1455975151.github.io/archives/c9789322.html">https://mds1455975151.github.io/archives/c9789322.html</a> <br><strong>版权声明</strong>：转载请注明出处！</p>]]></content>
    
    <summary type="html">
    
      如何面对压力？如何减压？
    
    </summary>
    
      <category term="生活记录" scheme="https://mds1455975151.github.io/categories/%E7%94%9F%E6%B4%BB%E8%AE%B0%E5%BD%95/"/>
    
    
      <category term="减压" scheme="https://mds1455975151.github.io/tags/%E5%87%8F%E5%8E%8B/"/>
    
      <category term="压力" scheme="https://mds1455975151.github.io/tags/%E5%8E%8B%E5%8A%9B/"/>
    
  </entry>
  
  <entry>
    <title>Git之Gitosis</title>
    <link href="https://mds1455975151.github.io/archives/ad17686.html"/>
    <id>https://mds1455975151.github.io/archives/ad17686.html</id>
    <published>2018-02-24T03:35:27.000Z</published>
    <updated>2018-02-24T06:15:12.445Z</updated>
    
    <content type="html"><![CDATA[<script src="\assets\js\APlayer.min.js"> </script><blockquote><p>Gitosis</p></blockquote><a id="more"></a><h1 id="Gitosis简介"><a href="#Gitosis简介" class="headerlink" title="Gitosis简介"></a>Gitosis简介</h1><p><a href="https://github.com/res0nat0r/gitosis" target="_blank" rel="noopener">Github地址</a></p><h1 id="环境说明"><a href="#环境说明" class="headerlink" title="环境说明"></a>环境说明</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@linux-node9 ~]<span class="comment"># cat /etc/redhat-release</span></span><br><span class="line">CentOS Linux release 7.2.1511 (Core)</span><br><span class="line">[root@linux-node9 ~]<span class="comment"># uname -r</span></span><br><span class="line">3.10.0-327.el7.x86_64</span><br><span class="line">[root@linux-node9 ~]<span class="comment"># uname -m</span></span><br><span class="line">x86_64</span><br></pre></td></tr></table></figure><h1 id="安装及配置Gitosis"><a href="#安装及配置Gitosis" class="headerlink" title="安装及配置Gitosis"></a>安装及配置Gitosis</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line">[root@linux-node9 ~]<span class="comment"># git clone git://github.com/res0nat0r/gitosis.git</span></span><br><span class="line">[root@linux-node9 ~]<span class="comment"># cd gitosis/</span></span><br><span class="line">[root@linux-node9 gitosis]<span class="comment"># python setup.py install</span></span><br><span class="line">[root@linux-node9 gitosis]<span class="comment"># useradd \</span></span><br><span class="line">                            -r \</span><br><span class="line">                            -s /bin/sh \</span><br><span class="line">                            -c <span class="string">'git version control'</span> \</span><br><span class="line">                            -d /home/git \</span><br><span class="line">                            git</span><br><span class="line">[root@linux-node9 gitosis]<span class="comment"># mkdir -p /home/git</span></span><br><span class="line">[root@linux-node9 gitosis]<span class="comment"># chown git:git /home/git</span></span><br><span class="line">[root@linux-node9 ~]<span class="comment"># su - git</span></span><br><span class="line">-sh-4.2$ ls -l</span><br><span class="line">total 0</span><br><span class="line">-sh-4.2$ ssh-keygen</span><br><span class="line">Generating public/private rsa key pair.</span><br><span class="line">Enter file <span class="keyword">in</span> <span class="built_in">which</span> to save the key (/home/git/.ssh/id_rsa):</span><br><span class="line">Created directory <span class="string">'/home/git/.ssh'</span>.</span><br><span class="line">Enter passphrase (empty <span class="keyword">for</span> no passphrase):</span><br><span class="line">Enter same passphrase again:</span><br><span class="line">Your identification has been saved <span class="keyword">in</span> /home/git/.ssh/id_rsa.</span><br><span class="line">Your public key has been saved <span class="keyword">in</span> /home/git/.ssh/id_rsa.pub.</span><br><span class="line">The key fingerprint is:</span><br><span class="line"><span class="built_in">fc</span>:32:e9:fe:4d:97:f5:9b:3c:ea:bd:f6:9a:05:b8:d3 git@linux-node9.example.com</span><br><span class="line">The key<span class="string">'s randomart image is:</span></span><br><span class="line"><span class="string">+--[ RSA 2048]----+</span></span><br><span class="line"><span class="string">|                 |</span></span><br><span class="line"><span class="string">|                 |</span></span><br><span class="line"><span class="string">|                 |</span></span><br><span class="line"><span class="string">|       .     .   |</span></span><br><span class="line"><span class="string">|        S   . . .|</span></span><br><span class="line"><span class="string">|         o   o +.|</span></span><br><span class="line"><span class="string">|        + . + E o|</span></span><br><span class="line"><span class="string">|       . o o oo=o|</span></span><br><span class="line"><span class="string">|       .o.. oo=B=|</span></span><br><span class="line"><span class="string">+-----------------+</span></span><br><span class="line"><span class="string">-sh-4.2$ ls -l</span></span><br><span class="line"><span class="string">total 0</span></span><br><span class="line"><span class="string">-sh-4.2$ cd .ssh/</span></span><br><span class="line"><span class="string">-sh-4.2$ ls -al</span></span><br><span class="line"><span class="string">total 8</span></span><br><span class="line"><span class="string">drwx------ 2 git git   36 Feb 23 22:49 .</span></span><br><span class="line"><span class="string">drwxr-xr-x 3 git git   17 Feb 23 22:49 ..</span></span><br><span class="line"><span class="string">-rw------- 1 git git 1679 Feb 23 22:49 id_rsa</span></span><br><span class="line"><span class="string">-rw-r--r-- 1 git git  409 Feb 23 22:49 id_rsa.pub</span></span><br><span class="line"><span class="string">-sh-4.2$ gitosis-init &lt;id_rsa.pub</span></span><br><span class="line"><span class="string">Initialized empty Git repository in /home/git/repositories/gitosis-admin.git/</span></span><br><span class="line"><span class="string">Reinitialized existing Git repository in /home/git/repositories/gitosis-admin.git/</span></span><br><span class="line"><span class="string">-sh-4.2$ ls -l</span></span><br><span class="line"><span class="string">total 12</span></span><br><span class="line"><span class="string">-rw-r--r-- 1 git git  567 Feb 23 22:49 authorized_keys</span></span><br><span class="line"><span class="string">-rw------- 1 git git 1679 Feb 23 22:49 id_rsa</span></span><br><span class="line"><span class="string">-rw-r--r-- 1 git git  409 Feb 23 22:49 id_rsa.pub</span></span><br><span class="line"><span class="string">-sh-4.2$ cd</span></span><br><span class="line"><span class="string">-sh-4.2$ ls -l</span></span><br><span class="line"><span class="string">total 0</span></span><br><span class="line"><span class="string">drwxr-xr-x 2 git git 26 Feb 23 22:49 gitosis</span></span><br><span class="line"><span class="string">drwxr-xr-x 3 git git 30 Feb 23 22:49 repositories</span></span><br><span class="line"><span class="string">-sh-4.2$ git clone git@192.168.200.109:gitosis-admin.git</span></span><br><span class="line"><span class="string">▽loning into '</span>gitosis-admin<span class="string">'...</span></span><br><span class="line"><span class="string">The authenticity of host '</span>192.168.200.109 (192.168.200.109)<span class="string">' can'</span>t be established.</span><br><span class="line">ECDSA key fingerprint is 2a:d8:e2:3a:ff:a5:58:a2:bd:95:4f:24:c2:6c:5f:ef.</span><br><span class="line">Are you sure you want to <span class="built_in">continue</span> connecting (yes/no)? yes</span><br><span class="line">Warning: Permanently added <span class="string">'192.168.200.109'</span> (ECDSA) to the list of known hosts.</span><br><span class="line"></span><br><span class="line">remote: Counting objects: 5, <span class="keyword">done</span>.</span><br><span class="line">remote: Compressing objects: 100% (4/4), <span class="keyword">done</span>.</span><br><span class="line">remote: Total 5 (delta 1), reused 5 (delta 1)</span><br><span class="line">Receiving objects: 100% (5/5), <span class="keyword">done</span>.</span><br><span class="line">Resolving deltas: 100% (1/1), <span class="keyword">done</span>.</span><br><span class="line">-sh-4.2$</span><br><span class="line">-sh-4.2$ ls -l</span><br><span class="line">total 0</span><br><span class="line">drwxr-xr-x 2 git git 26 Feb 23 22:49 gitosis</span><br><span class="line">drwxrwxr-x 4 git git 49 Feb 23 22:52 gitosis-admin</span><br><span class="line">drwxr-xr-x 3 git git 30 Feb 23 22:49 repositories</span><br><span class="line">-sh-4.2$ <span class="built_in">cd</span> gitosis-admin/</span><br><span class="line">-sh-4.2$ ls -l</span><br><span class="line">total 4</span><br><span class="line">-rw-rw-r-- 1 git git 97 Feb 23 22:52 gitosis.conf</span><br><span class="line">drwxrwxr-x 2 git git 44 Feb 23 22:52 keydir</span><br><span class="line">-sh-4.2$ cat gitosis.conf</span><br><span class="line">[gitosis]</span><br><span class="line"></span><br><span class="line">[group gitosis-admin]</span><br><span class="line">members = git@linux-node9.example.com</span><br><span class="line">writable = gitosis-admin</span><br></pre></td></tr></table></figure><h1 id="Gitosis管理"><a href="#Gitosis管理" class="headerlink" title="Gitosis管理"></a>Gitosis管理</h1><h2 id="用户管理"><a href="#用户管理" class="headerlink" title="用户管理"></a>用户管理</h2><h2 id="Git仓库管理"><a href="#Git仓库管理" class="headerlink" title="Git仓库管理"></a>Git仓库管理</h2><h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><p><a href="https://git-scm.com/book/zh/v1/%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8A%E7%9A%84-Git-Gitosis" target="_blank" rel="noopener">https://git-scm.com/book/zh/v1/%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8A%E7%9A%84-Git-Gitosis</a></p><p>======================================================<br>希望各位朋友支持一下</p><ul><li>领取我的<a href="https://promotion.aliyun.com/ntms/act/ambassador/sharetouser.html?userCode=xpdsz87p&amp;utm_source=xpdsz87p" target="_blank" rel="noopener">阿里云幸运券</a>,谢谢.</li><li>使用<a href="https://cloud.tencent.com/redirect.php?redirect=1005&amp;cps_key=5a162632de40024cd01aabff4d3f1370" target="_blank" rel="noopener">腾讯云资源</a></li><li>自己的网站承接广告<a href="http://www.sudianlm.com/track/c/?rid=2056" target="_blank" rel="noopener">速点广告联盟</a></li><li>广告位招商QQ:1455975151</li><li>喜欢购物的朋友可以看看，<a href="http://www.1zhe.com/yq/1066027" target="_blank" rel="noopener">一折特卖</a><!--注册一折特卖，免费领集分宝，集分宝可以当钱花，免费购物不是梦，注册马上送你10集分宝。--></li></ul><p><strong>本文作者</strong>：dongsheng<br><strong>本文地址</strong>： <a href="https://mds1455975151.github.io/archives/ad17686.html">https://mds1455975151.github.io/archives/ad17686.html</a> <br><strong>版权声明</strong>：转载请注明出处！</p>]]></content>
    
    <summary type="html">
    
      Gitosis
    
    </summary>
    
      <category term="Linux运维" scheme="https://mds1455975151.github.io/categories/Linux%E8%BF%90%E7%BB%B4/"/>
    
    
      <category term="Git" scheme="https://mds1455975151.github.io/tags/Git/"/>
    
      <category term="Gitosis" scheme="https://mds1455975151.github.io/tags/Gitosis/"/>
    
  </entry>
  
  <entry>
    <title>SSL配置汇总</title>
    <link href="https://mds1455975151.github.io/archives/a740e72c.html"/>
    <id>https://mds1455975151.github.io/archives/a740e72c.html</id>
    <published>2018-02-23T09:14:07.000Z</published>
    <updated>2018-02-23T09:14:13.080Z</updated>
    
    <content type="html"><![CDATA[<script src="\assets\js\APlayer.min.js"> </script><p>&gt;</p><a id="more"></a><p>======================================================<br>希望各位朋友支持一下</p><ul><li>领取我的<a href="https://promotion.aliyun.com/ntms/act/ambassador/sharetouser.html?userCode=xpdsz87p&amp;utm_source=xpdsz87p" target="_blank" rel="noopener">阿里云幸运券</a>,谢谢.</li><li>使用<a href="https://cloud.tencent.com/redirect.php?redirect=1005&amp;cps_key=5a162632de40024cd01aabff4d3f1370" target="_blank" rel="noopener">腾讯云资源</a></li><li>自己的网站承接广告<a href="http://www.sudianlm.com/track/c/?rid=2056" target="_blank" rel="noopener">速点广告联盟</a></li><li>广告位招商QQ:1455975151</li><li>喜欢购物的朋友可以看看，<a href="http://www.1zhe.com/yq/1066027" target="_blank" rel="noopener">一折特卖</a><!--注册一折特卖，免费领集分宝，集分宝可以当钱花，免费购物不是梦，注册马上送你10集分宝。--></li></ul><p><strong>本文作者</strong>：dongsheng<br><strong>本文地址</strong>： <a href="https://mds1455975151.github.io/archives/a740e72c.html">https://mds1455975151.github.io/archives/a740e72c.html</a> <br><strong>版权声明</strong>：转载请注明出处！</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;gt;&lt;/p&gt;
    
    </summary>
    
    
  </entry>
  
</feed>
